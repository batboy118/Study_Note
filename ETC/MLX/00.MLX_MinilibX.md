# 00. MLX (MinilibX)

> 42ì˜ cub3D í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•´ ì•Œì•„ì•¼ í•  MinilibX(ì´í•˜ MLX) ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•´ì„œ í•™ìŠµí•œë‹¤.

[ğŸ Home](https://github.com/batboy118/Study_Note)

[â—€Previous page ](./README.md)

---

<!-- TOC -->

- [1. MinilibXë€?](#1-minilibxë€)
- [2. ì„¤ì¹˜ë°©ë²•](#2-ì„¤ì¹˜ë°©ë²•)
	- [2.1. Linux & WSL(window)](#21-linux--wslwindow)
- [3. ì‚¬ìš©ë°©ë²•](#3-ì‚¬ìš©ë°©ë²•)
	- [3.1. ê·¸ë¦¬ê¸°](#31-ê·¸ë¦¬ê¸°)
	- [3.2. ì´ë²¤íŠ¸ ì²˜ë¦¬](#32-ì´ë²¤íŠ¸-ì²˜ë¦¬)

<!-- /TOC -->

## 1. MinilibXë€?

- í™”ë©´ì— ì°½ì„ ë„ìš°ê³  ì°½ì•ˆì— ë¬´ì–¸ê°€ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ì‰½ê²Œ ê·¸ë˜í”½ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ì œê³µí•´ì¤€ë‹¤. minilibx ëŠ” ì°½ì„ ë„ìš°ê³  í•´ë‹¹ ì°½ (x, y) ìœ„ì¹˜ì˜ í”½ì…€ì— ì»¬ëŸ¬ê°’ì„ ì°ëŠ” ê¸°ëŠ¥, ê·¸ë¦¬ê³  ì´ë²¤íŠ¸ì™€ í‚¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•´ ì¤€ë‹¤.

  > 42ì˜ Olivierë¼ëŠ” ìŠ¤íƒœí”„ê°€ ë§Œë“¤ì—ˆë‹¤.

## 2. ì„¤ì¹˜ë°©ë²•

### 2.1. Linux & WSL(window)

> ì¶œì²˜ : https://github.com/ilkou/minilibx

```bash
sudo apt-get update
sudo apt-get upgrade
sudo apt-get install libx11-dev
sudo apt-get install libxext-dev
git clone https://github.com/ttshivhula/minilibx minilibx_linux
echo "export PKG_CONFIG_PATH=path_to_minilibx_linux_directory" >> ~/.bashrc
cd minilibx_linux; make && sudo make install
```

> gccì™€ makeê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.

ê·¸ë˜í”½ ì‘ì—…ì„ ìœ„í•´,  [SourceForge](https://sourceforge.net/projects/xming/) ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ê³  í™˜ê²½ë³€ìˆ˜ë¥¼ ì¶”ê°€í•´ì¤€ ë’¤ `bash`ë¥¼ ë‹¤ì‹œ ì‹œì‘ì‹œí‚¨ë‹¤.

 `echo "export DISPLAY=localhost:0.0" >> ~/.bashrc`

> ì‹œì‘ í”„ë¡œê·¸ë¨ í´ë”(ì‹œì‘ â†’ ì‹¤í–‰ â†’ "shell:startup")ì— Xming ë‹¨ì¶• ì•„ì´ì½˜ì„ ìœ„ì¹˜ì‹œì¼œ Windows ë¶€íŒ…ì‹œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

## 3. ì‚¬ìš©ë°©ë²•

> ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ í›„ `man mlx`ë¥¼ ì¹˜ë©´ ê°„ë‹¨í•œ ì„¤ëª…ì„ ë³¼ ìˆ˜ ìˆë‹¤.

### 3.1. ê·¸ë¦¬ê¸°

- mlxì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” `mlx.h`ë¥¼ include í•´ì•¼í•œë‹¤.

- ê°„ë‹¨í•˜ê²Œ í™”ë©´ì— ë¹¨ê°„ ì‚¬ê°í˜•ê³¼ ABCì˜ ë¬¸ìë¥¼ ë„ìš°ëŠ” ì½”ë“œì´ë‹¤.

  > ì»´íŒŒì¼ì€ `gcc í”„ë¡œê·¸ë¨.c -lmlx -lX11 -lXext`ë¡œ í•˜ë©´ ëœë‹¤.

  - ì½”ë“œ

  ```c
  #include <mlx.h>

  int	main()
  {
  	void	*mlx_ptr;
  	void	*win_ptr;
      int 	i;
  	int		j;

  	mlx_ptr = mlx_init();
  	win_ptr = mlx_new_window(mlx_ptr, 500, 500, "test");
      i = 0;
  	while(i < 50)
  	{
  		j = 0;
  		while(j < 50)
  			mlx_pixel_put(mlx_ptr, win_ptr, i, j++, 0x00ff0000);
  		i++;
  	}
  	mlx_string_put(mlx_ptr, win_ptr, 100, 100, 0x0000ff00,"ABC");
  	mlx_loop(mlx_ptr);
  }
  ```

  - ê²°ê³¼

  ![image](https://user-images.githubusercontent.com/53181778/76857024-7e0ff680-684c-11ea-9e98-ff881761b1a9.png)

  - `void *mlx_init ();`

    : OSì˜ ê·¸ë˜í”½ ì„œë²„ì™€ ì—°ê²°ì„ í•´ì¤€ë‹¤. ì»¤ë„¥ì…˜ì˜ ì •ë³´ë¥¼ ë¦¬í„´í•´ `mlx_ptr`ì— ì»¤ë„¥ì…˜ ì •ë³´ê°€ ë‹´ê¸´ë‹¤.

  - `void *mlx_new_window (void *mlx_ptr, int size_x, int size_y, char *title);`

    : ì°½ì„ ë„ì–´ì¤€ë‹¤.  ì°½ì˜ ì •ë³´ê°€ ë‹´ê¸´ í¬ì¸í„°ë¥¼ ë¦¬í„´í•˜ì—¬ `win_ptr`ì— ì°½ì˜ ì •ë³´ê°€ ë‹´ê¸´ë‹¤.

  - `int mlx_loop(void *mlx_ptr);`

    : ìœˆë„ìš° ì°½ì„ ë‹«ê¸°ì „ê¹Œì§€ í”„ë¡œê·¸ë¨ì„ ì§€ì†ì‹¤í–‰ ì‹œì¼œì¤€ë‹¤. ë˜í•œ, ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œì•¼ í•œë‹¤.

    >You can assign different functions to the three following events:
    >
    >   - A key is pressed
    >     he mouse button is pressed
    >   - A part of the window should be re-drawn (this is  called  an  "expose" event, and it is your program's job to handle it).

  - `int mlx_pixel_put(void *mlx_ptr, void *win_ptr, int x, int y, int color);`

    - ì •ì˜ëœ í”½ì…€ì„ `win_ptr`ì°½ì˜, x, y ì¢Œí‘œì— ì •ì˜ëœ `color`ë¥¼ ì°ëŠ”ë‹¤. ì´ˆê¸° ì¢Œí‘œëŠ” (0,0)ì´ë©°, ì¢Œì¸¡ ìƒë‹¨ì´ë‹¤. xì˜ ê°’ì´ ì»¤ì§€ë©´ ìš°ì¸¡ìœ¼ë¡œ, yì˜ ê°’ì´ ì»¤ì§€ë©´ ì•„ë˜ë¡œ ê°„ë‹¤.
    - colorì˜ ê°’ì€ 4byteì´ë©° ì²« ë²ˆì§¸ byteëŠ” 0ì´ê³  R,G,B ìˆœì„œëŒ€ë¡œ ê°ê° `0 ~ 255`ì˜ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. `0, R, G, B`

  - `int mlx_string_put(void  *mlx_ptr, void *win_ptr, int x, int y, int color,char *string);`

    - ì¢Œí‘œì— ë¬¸ìì—´ì„ ì¶œë ¥ì‹œí‚¨ë‹¤. ë‚˜ë¨¸ì§€ëŠ” `mlx_pixel_put`ê³¼ ë™ì¼

### 3.2. ì´ë²¤íŠ¸ ì²˜ë¦¬

- í‚¤ë³´ë“œ, ë§ˆìš°ìŠ¤ ë“±ì˜ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

  - ì•„ë˜ ì½”ë“œëŠ” í‚¤ë³´ë“œë‚˜ ë§ˆìš°ìŠ¤ í´ë¦­ì„ í•˜ë©´ Xë¥¼ í„°ë¯¸ë„ì— ì“´ë‹¤.

  ```c
  #include <mlx.h>
  #include <unistd.h>

  void	ft_putchar(char c)
  {
  	write(1, &c, 1);
  }

  int		deal_key(int key, void *param)
  {
  	ft_putchar('X');
  	return (0);
  }

  int		main()
  {
  	void	*mlx_ptr;
  	void	*win_ptr;

  	mlx_ptr = mlx_init();
  	win_ptr = mlx_new_window(mlx_ptr, 500, 500, "test");
  	mlx_key_hook(win_ptr, deal_key, (void *)0);
  	mlx_mouse_hook(win_ptr, deal_key, (void *)0);
  	mlx_loop(mlx_ptr);
  }
  ```

  - `int mlx_key_hook(void *win_ptr, int (*fn)(), void *param);`

    - í‚¤ë³´ë“œ ì…ë ¥ì„ ì¸ì‹í•´ íŠ¹ì • í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.

  - `int mlx_mouse_hook(void *win_ptr, int (*fn)(), void *param);`

    - ë§ˆìš°ìŠ¤ ì…ë ¥ì„ ì¸ì‹í•´ íŠ¹ì •í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.

