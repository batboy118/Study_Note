# 13. ë””ìŠ¤í¬ ìŠ¤ì¼€ì¥´ë§ (Disk Scheduling)

> ë³´ì¡°ê¸°ì–µì¥ì¹˜ëŠ” í˜„ì¬ ì—¬ëŸ¬ ê°€ì§€ ì¡´ì¬í•˜ì§€ë§Œ í•˜ë“œ ë””ìŠ¤í¬ê°€ ì•„ì§ë„ ë§ì´ ì‚¬ìš©ëœë‹¤.

[ğŸ Home](https://github.com/batboy118/Study_Note)

[â—€Previous page ](./README.md)

---

<!-- TOC -->

- [1. ë””ìŠ¤í¬ ìŠ¤ì¼€ì¤„ë§](#1-ë””ìŠ¤í¬-ìŠ¤ì¼€ì¤„ë§)
- [2. ë””ìŠ¤í¬ ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜](#2-ë””ìŠ¤í¬-ìŠ¤ì¼€ì¤„ë§-ì•Œê³ ë¦¬ì¦˜)
	- [2.1. FCFS(First-Come First-Served)](#21-fcfsfirst-come-first-served)
	- [2.2. SSTF(Shortest-Seek-Time-First)](#22-sstfshortest-seek-time-first)
	- [2.3. Scan](#23-scan)
	- [2.4. Scan Variants](#24-scan-variants)
		- [2.4.1. C-Scan](#241-c-scan)
		- [2.4.2. Look](#242-look)
		- [2.4.3. C-Look](#243-c-look)

<!-- /TOC -->

## 1.  ë””ìŠ¤í¬ ìŠ¤ì¼€ì¤„ë§

í•˜ë“œ ë””ìŠ¤í¬ì— ì ‘ê·¼í•˜ëŠ” ì‹œê°„ì€ **Seek time(íƒìƒ‰ ì‹œê°„)** + rotational delay + transfer time ìœ¼ë¡œ ê³„ì‚°í•  ìˆ˜ ìˆëŠ”ë°, ì´ ì¤‘ì—ì„œ **seek time(headë¥¼ ì›€ì§ì´ëŠ” ì‹œê°„)**ì´ ê°€ì¥ ë¹„ì¤‘ì´ í¬ë‹¤.

í˜„ì¬ ì»´í“¨í„° í™˜ê²½ì€ ëŒ€ë¶€ë¶„ ë‹¤ì¤‘ í”„ë¡œê·¸ë˜ë° í™˜ê²½ìœ¼ë¡œ, ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ì¸ ë©”ëª¨ë¦¬ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°ê°€ ë§ë‹¤. ì´ëŸ¬í•œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë“¤ì—ì„œ ë™ì‹œì— ë””ìŠ¤í¬ì— ëŒ€í•œ I/O ìš”ì²­ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ê·¸ëŸ´ ê²½ìš° ë””ìŠ¤í¬ ì—­ì‹œ CPUì™€ ë§ˆì°¬ê°€ì§€ë¡œ **ë””ìŠ¤í¬ í(dist queue)**ì—ì„œ ìš”ì²­ë“¤ì„ ì¤„ì„ ì„¸ì›Œ ì°¨ë¡€ëŒ€ë¡œ ì´ë¥¼ ì²˜ë¦¬í•œë‹¤.

ë””ìŠ¤í¬ë¥¼ ì½ëŠ” ì‹œê°„ì€ ë§¤ìš° ëŠë¦° ì‘ì—…ì´ê¸° ë•Œë¬¸ì—, ì„±ëŠ¥ì„ ìµœëŒ€í™” í•˜ê¸° ìœ„í•´ ìš”ì²­ë“¤ì„ íš¨ìœ¨ì ì¸ ìˆœì„œë¡œ ì²˜ë¦¬í•˜ì—¬ ì‘ì—… ì‹œê°„ì„ ì¤„ì´ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. ì´ëŸ¬í•œ ë°©ë²•ë“¤ì„ ë””ìŠ¤í¬ ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì´ë¼ í•œë‹¤.

## 2.  ë””ìŠ¤í¬ ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜

### 2.1. FCFS(First-Come First-Served)

ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì—ì„œë„ ì¡´ì¬í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•˜ê³  ê°€ì¥ ê³µí‰í•œ ë°©ë²•ìœ¼ë¡œ, ë¨¼ì € ìš”ì²­í•œ ìˆœì„œëŒ€ë¡œ ì„œë¹„ìŠ¤ë¥¼ í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.

- ì˜ˆì‹œ

  >`200 cylinder dist` : 0, 1, 2, ..., 199
  >`Disk queue` : 98, 183, 37, 122, 14, 124, 65, 67
  >`í˜„ì¬ í—¤ë“œê°€ ìœ„ì¹˜í•œ ì‹¤ë¦°ë”(cylinder)`: 53

  ![image](https://user-images.githubusercontent.com/53181778/78218793-e6e2aa00-74ad-11ea-8b5a-6758e34c3bfe.png)

  ê°€ë¡œì¶•ì€ 0ë²ˆë¶€í„° 199ë²ˆê¹Œì§€ ì‹¤ë¦°ë”ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ê³ , ì—¬ê¸°ì„œ íŒŒë€ìƒ‰ ì„ ì´ `dist queue`ë¥¼ FCFS ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬í•  ë•Œ í—¤ë“œê°€ ì´ë™í•œ ê²½ë¡œë¥¼ ë³´ì—¬ì¤€ë‹¤. í—¤ë“œì˜ ì´ ì´ë™ê±°ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

  > **í—¤ë“œê°€ ì›€ì§ì¸ ì´ ê±°ë¦¬** = (98 - 53) + (183 - 98) + (183 - 37) + (122 - 37) + (122 - 14) + (124 - 14) + (124 - 65) + (67 - 65) = **640 cylinders**

  íì— ìˆëŠ” ì‹¤ë¦°ë”ë¥¼ ìˆœì„œëŒ€ë¡œ ì ‘ê·¼í•˜ê²Œ ë˜ë©´ ìœ„ì¹˜ ì°¨ì´ê°€ ë§ì´ ë°œìƒí•˜ëŠ” ê²½ìš° íš¨ìœ¨ì´ ë–¨ì–´ì§€ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

### 2.2. SSTF(Shortest-Seek-Time-First)

SSTF ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì€ í˜„ì¬ì˜ ìƒíƒœì—ì„œ ê°€ì¥ ì§§ì€ íƒìƒ‰ ì‹œê°„ì„ ê°€ì§€ëŠ” ìš”ì²­ì„ ë¨¼ì € ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. ì¦‰, í˜„ì¬ í—¤ë“œê°€ ë‹¤ìŒ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì›€ì§ì—¬ì•¼ í•˜ëŠ” ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ê²ƒì„ ì„ íƒí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.

- ì˜ˆì‹œ

  >`200 cylinder dist` : 0, 1, 2, ..., 199
  >`Disk queue` : 98, 183, 37, 122, 14, 124, 65, 67
  >`í˜„ì¬ í—¤ë“œê°€ ìœ„ì¹˜í•œ ì‹¤ë¦°ë”(cylinder)`: 53

  ![image](https://user-images.githubusercontent.com/53181778/78218406-42f8fe80-74ad-11ea-8344-d911809fd599.png)

  ì²˜ìŒ í—¤ë“œê°€ ìœ„ì¹˜í•œ ì‹¤ë¦°ë” 53ë²ˆìœ¼ë¡œ ë¶€í„° `dist queue`ì— ìˆëŠ” ì‹¤ë¦°ë” ì¤‘ 53ê³¼ ê°€ì¥ ê°€ê¹Œìš´ 65ë²ˆ ì‹¤ë¦°ë”ë¥¼ ìš°ì„  ì„ íƒí•œë‹¤. ê·¸ ë‹¤ìŒì—ëŠ” 65ë²ˆì—ì„œëŠ” ê°€ì¥ ê°€ê¹Œìš´ 67ë²ˆì„ ì„ íƒí•œë‹¤. ì´ì™€ ê°™ì€ ê³¼ì •ì„ ë°˜ë³µí•˜ì—¬ ìš”ì²­ë“¤ì„ ì²˜ë¦¬í•´ ì¤€ë‹¤.

  > **í—¤ë“œê°€ ì›€ì§ì¸ ì´ ê±°ë¦¬** = (65 - 53) + (67 - 65) + (67 - 37) + (37 - 14) + (98 - 14) + (122 - 98) + (124 - 122) + (183 - 124) = **236 cylinders**

  SSTF ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì€ FCFS ìŠ¤ì¼€ì¤„ë§ë³´ë‹¤ í—¤ë“œì˜ ì›€ì§ì„ì„ ìµœì†Œí™” í•˜ì—¬ íƒìƒ‰ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆì§€ë‹¤.

  í•˜ì§€ë§Œ, **ê¸°ì•„(starvation)**ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. `dist queue`ì—ëŠ” ì§€ì†ì ìœ¼ë¡œ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ê¸° ë•Œë¬¸ì— í—¤ë“œì™€ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆëŠ” ì‹¤ë¦°ë”ì— ìœ„ì¹˜í•œ ë°ì´í„°ì— ëŒ€í•œ ìš”ì²­ì€ ì„œë¹„ìŠ¤ë¥¼ í•´ì£¼ì§€ì§€ ëª»í•˜ëŠ” í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

  ë˜í•œ, SSTF ìŠ¤ì¼€ì¤„ë§ì´ í˜„ì¬ì™€ ê°€ì¥ ê°€ê¹Œìš´ ì‹¤ë¦°ë”ë¥¼ ì„ íƒí•œë‹¤ê³  í•´ì„œ **ê°€ì¥ ì ì€ íƒìƒ‰ì‹œê°„ì„ ê°€ì§€ëŠ” ìµœì ì˜ ì•Œê³ ë¦¬ì¦˜ì€ ì•„ë‹ˆë‹¤.** ìœ„ ì˜ˆì œì—ì„œë„ ë³¼ ìˆ˜ ìˆë“¯ì´, ì²˜ìŒ 53ë²ˆ ì‹¤ë¦°ë”ì—ì„œ 65ë²ˆì´ ì•„ë‹Œ 37ë²ˆìœ¼ë¡œ ì´ë™í•œ í›„ SSTF ì•Œê³ ë¦¬ì¦˜ì„ ìˆ˜í–‰í•˜ë©´ **208 cylinders**ë¡œ ë” íš¨ìœ¨ì ì¸ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

### 2.3. Scan

Scan ìŠ¤ì¼€ì¤„ë§ì€ ë§ê·¸ëŒ€ë¡œ í—¤ë“œê°€ í•œ ë°©í–¥(ì‹¤ë¦°ë” ë²ˆí˜¸ê°€ ë‚®ì•„ì§€ê±°ë‚˜ ë†’ì•„ì§€ëŠ”)ìœ¼ë¡œ ì§€ì†ì ìœ¼ë¡œ ì´ë™í•˜ë©´ì„œ ë””ìŠ¤í¬ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì´ë‹¤. ì¦‰, í•œë°©í–¥ìœ¼ë¡œ ì§€ì†ì ìœ¼ë¡œ ì´ë™í•˜ê³ , ê²½ê³„(ë”ì´ìƒ ì´ë™í•  ê³³ì´ ì—†ëŠ” ê²½ìš°)ì— ì ‘ê·¼í•˜ê²Œ ë˜ë©´ ë‹¤ì‹œ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì´ë™í•œë‹¤.

- ì˜ˆì‹œ

  > `200 cylinder dist` : 0, 1, 2, ..., 199
  > `Disk queue` : 98, 183, 37, 122, 14, 124, 65, 67
  > `í˜„ì¬ í—¤ë“œê°€ ìœ„ì¹˜í•œ ì‹¤ë¦°ë”(cylinder)`: 53
  >
  > `ìŠ¤ìº” ë°©í–¥`: 0ë²ˆ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì„(ë²ˆí˜¸ê°€ ì‘ì€ ì‹¤ë¦°ë” ë°©í–¥)

  ![image](https://user-images.githubusercontent.com/53181778/78219379-ed255600-74ae-11ea-9414-9a7ab9f8054d.png)

  ì´ˆê¸° ìŠ¤ìº” ë°©í–¥ì´ 0ë²ˆ ì‹¤ë¦°ë” ë°©í–¥ì´ê¸° ë•Œë¬¸ì—, 53ë²ˆ ì‹¤ë¦°ë”ì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì‘ì€ ë²ˆí˜¸ì˜ ì‹¤ë¦°ë”ë¡œ í–¥í•œë‹¤ìŒ 0ë²ˆ ì‹¤ë¦°ë”ì— ë„ì°©í•˜ê²Œ ë˜ë©´, ë°˜ëŒ€ë¡œ ì ì  ë” í° ë²ˆí˜¸ì˜ ì‹¤ë¦°ë”ë¡œ ì›€ì§ì¸ë‹¤.

  > **í—¤ë“œê°€ ì›€ì§ì¸ ì´ ê±°ë¦¬** = (53 - 37) + (37 - 14) + (14 - 0) + (65 - 0) + (67 - 65) + (98 - 67) + (122 - 98) + (124 - 122) + (183 - 124) = **236 cylinders**

  ì´ ë°©ë²•ë„ ë‚˜ë¦„ íš¨ìœ¨ì ì´ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ë””ìŠ¤í¬ì— ìš”ì²­í•  ë•Œ ê·¸ ìœ„ì¹˜ë¥¼ ì‚´í´ë³´ë©´ ì‹¤ë¦°ë”ì— **ê³¨ê³ ë£¨ í¼ì ¸ìˆë‹¤.** ê·¸ëŸ¬ë¯€ë¡œ Scan ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì²˜ëŸ¼ ì•ë’¤ë¡œ ë°˜ë³µí•´ì„œ ì›€ì§ì´ëŠ” ê²ƒì´ì•„ë‹ˆë¼ ì²˜ìŒë¶€í„° í•œ ë°©í–¥ìœ¼ë¡œ ëê¹Œì§€ ì›€ì§ì´ê³  ë‹¤ì‹œ ì²˜ìŒ ì‹œì‘ì ìœ¼ë¡œ ëŒì•„ê°€ì„œ ë™ì¼í•œ ë°©í–¥ìœ¼ë¡œ ë‹¤ì‹œ ëê¹Œì§€ ì›€ì§ì´ëŠ” ê²ƒì´ ë”ìš± íš¨ê³¼ì ì´ë‹¤.

  ì¦‰ ì˜ˆë¥¼ ë“¤ë©´, ë°”ê¹¥ ìª½ì—ì„œ ì•ˆìª½ìœ¼ë¡œ ê°€ë©´ì„œ ì„œë¹„ìŠ¤ í•˜ê³ , ëê¹Œì§€ ê°”ìœ¼ë©´ ë‹¤ì‹œ ê°€ì¥ ë°”ê¹¥ìœ¼ë¡œ í•œë²ˆì— ì™€ì„œ ë‹¤ì‹œ ì•ˆìª½ìœ¼ë¡œ ë“¤ì–´ê°€ë©´ì„œ ì„œë¹„ìŠ¤ë¥¼ í•˜ëŠ” ê²ƒì„ ë°˜ë³µí•œë‹¤. ì´ëŸ¬í•œ ì•„ì´ë””ì–´ì—ì„œ ë‚˜ì˜¨ ê²ƒì´ **Circular Scan** ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.

### 2.4. Scan Variants

#### 2.4.1. C-Scan

ì•ì„œ ì–¸ê¸‰í•œ Circular Scan ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. ì¦‰ í•œ ë°©í–¥ìœ¼ë¡œ ê³„ì† ì›€ì§ì´ëŠ” ê²ƒì´ ë§ˆì¹˜ ì›í˜•ìœ¼ë¡œ ì›€ì§ì¸ ê²ƒê³¼ ê°™ì€ ëª¨ìŠµ (0 ë‹¤ìŒì— ìµœëŒ€ê°’)ì´ë‹¤. ì›€ì§ì´ëŠ” ê±°ë¦¬ëŠ” ë” ê¸¸ì–´ì§ˆ ìˆ˜ ìˆì§€ë§Œ ë‹¤ì‹œ ì²˜ìŒ ìœ„ì¹˜ë¡œ ë˜ëŒì•„ê°ˆ ë•ŒëŠ” ë°ì´í„°ë¥¼ ì½ì§€ ì•Šê¸° ë•Œë¬¸ì— ë” ë¹ ë¥¸ ì†ë„ë¡œ ì›€ì§ì¼ ìˆ˜ ìˆë‹¤.

![image](https://user-images.githubusercontent.com/53181778/78225234-6a55c880-74b9-11ea-80f1-1fb8d96e4d7b.png)

#### 2.4.2. Look

Scan ì•Œê³ ë¦¬ì¦˜ì€ 0ë²ˆ ì‹¤ë¦°ë”ê°€ ì¡´ì¬í•˜ì§€ ì•Šì§€ë§Œ 0ë²ˆê¹Œì§€ ê°€ê²Œ ë˜ì§€ë§Œ, ì‚¬ì‹¤ 0ë²ˆ ê¹Œì§€ ê°ˆ í•„ìš”ê°€ ì—†ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì´ëŸ¬í•œ ë¹„íš¨ìœ¨ì ì¸ ì´ë™ì„ ì—†ì• ê¸° ìœ„í•´ **dist queueì— ì¡´ì¬í•˜ëŠ” ì‹¤ë¦°ë”ì˜ ìµœì†Œì™€ ìµœëŒ€ ë²”ìœ„**ë§Œ ì›€ì§ì´ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ Look ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ì´ë¼ê³  í•œë‹¤. í•˜ì§€ë§Œ ì´ ë²”ìœ„ë¥¼ ì•Œê¸° ìœ„í•´ì„œ ë¯¸ë¦¬ íë¥¼ ê²€ì‚¬í•´ì•¼í•œë‹¤.

#### 2.4.3. C-Look

C-Lookì€ **Circular Look** ì„ ë§í•œë‹¤. Lookì€ ìœ„ì—ì„œ Scan ìŠ¤ì¼€ì¤„ë§ì´ 0ë²ˆ ë¶€í„° ë ì‹¤ë¦°ë”ê¹Œì§€ ì›€ì§ì´ì§€ ì•Šê³  ì¡´ì¬í•˜ëŠ” ì‹¤ë¦°ë”ì˜ ìµœì†Œì—ì„œ ìµœëŒ€ ë²”ìœ„ë¥¼ ì›€ì§ì¸ë‹¤ê³  í•˜ì˜€ëŠ”ë°, C-Lookì€ ì´ ë²”ìœ„ì—ì„œ C-Scanê³¼ ê°™ì´ í•œ ë°©í–¥ìœ¼ë¡œë§Œ ì›€ì§ì´ëŠ” ê²ƒì„ ë§í•œë‹¤. ì¦‰, ìµœëŒ€ ì‹¤ë¦°ë”ì—ì„œ ìµœì†Œ ì‹¤ë¦°ë” ë°©í–¥ìœ¼ë¡œ ì›€ì§ì¸ë‹¤ê³  í•  ë•Œ ìµœì†Œ ë²”ìœ„ì— ë„ë‹¬í•˜ë©´ ë‹¤ì‹œ ìµœëŒ€ ë²”ìœ„ë¡œ ë˜ëŒì•„ê°€ì„œ ê°™ì€ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì¸ë‹¤.

> ìŠ¤ìº”ì˜ ì¢…ë¥˜
>
> - scan
>
> - c-scan
>
> - look
>
> - c-look

> Elevator Algorithm
>
> Elevator Algorithmì€ Scanì—ì„œ íŒŒìƒë˜ì–´ ë‚˜ì˜¨ ì•Œê³ ë¦¬ì¦˜(C-scan, Look, C-Look)ì„ ë¶€ë¥´ëŠ” ë‹¤ë¥¸ ìš©ì–´ì´ë‹¤. ìœ„ Scan ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ ì˜ˆì œ ê·¸ë¦¼ì„ 90ë„ë¡œ íšŒì „í•˜ë©´ ì—˜ë¦¬ë² ì´í„°ì˜ ëª¨ìŠµê³¼ ìœ ì‚¬í•˜ì—¬ ë¶™ì—¬ì§„ ì´ë¦„ì´ë‹¤.
