# 09. 트라이 Trie

> 트라이에 대해 학습합니다.

[🏠Home](https://github.com/batboy118/Study_Note)

[◀Previous page ](./README.md)

---

<!-- TOC -->

- - -

<!-- /TOC -->

## 1. 트라이

- 문자열의 집합을 표현하는 트리(Tree)
- 정보 검색(Retrieval)에서 이름을 따왔다.
- 예시)

![image](https://user-images.githubusercontent.com/53181778/78859022-92937900-7a1d-11ea-9f47-14e1162bc0e7.png)

## 2. 접미어

### 2.1. 접미어 트리

#### 2.1.1. 개념

- 하나의 문자열의 모든 접미어를 포함하는 트라이의 표현

- 문자열 연산에 필요한 공간 복잡도와 시간복잡도를 줄일 수 있다.

- 활용

  - 문자열 매칭
  - 부분 문자열 매칭
  - 최장 공통 부분문자열

- 압축된 트라이

  - 노드와 간선을 부분 문자열로 압축함

    ![image](https://user-images.githubusercontent.com/53181778/78957558-2d9b5a00-7ad5-11ea-9ca3-6e3b046a8719.png)

    - 단말 노드의 수는 동일하지만, 내부 간선과 노드의 수는 감소 했다.

- 문자열 `S = "xabxac"`에 대한 접미어 트리 (s = 6)

  - 1부터 s까지 번호가 부여된 s개의 단말 노드를 가진다.

  - 루트를 제외한 내부 노드들은 최소 2개의 자식을 가진다.

  - 각 간선은 문자열 S의 부분문자열 라벨이 부여된다.

  - 한 노드에서 나가는 두개의 간선이 동일한 문자로 시작하는 문자열 라벨을 가질 수 없다.

  - 루트에서 단말 노드 i까지 경로에 존재하는 문자열 라벨들을 연결한 문자열 : 접미어S[i ... s], (1 ≤ i ≤ s)

    ![image](https://user-images.githubusercontent.com/53181778/78957659-794e0380-7ad5-11ea-8e9a-bb4e6f24f25a.png)

- 문자열 `S = "xabxa"`에 대한 접미어 트리 (s = 5)

  - S5와 S2, S1과 S4의 접두어가 같아, 단말 노드의 수가 3개로 표현되는 문제가 발생한다.

    ![image](https://user-images.githubusercontent.com/53181778/78958176-e0b88300-7ad6-11ea-9a10-174e4eb99c01.png)

  - 이러한 경우, 문자열의 끝에 특수한 문자를 추가한다. (일반적으로 달러 문자를 추가함) [$ : 종료 문자]

    ![image](https://user-images.githubusercontent.com/53181778/78958342-51f83600-7ad7-11ea-977b-1178dbd1685a.png)

  - 간선에 부여된 라벨을 효과적으로 저장하기 위해 부분 문자열 T[i...j]의 인덱스 시작과 끝(i,j)을 저장할 수 있다.

- 접미어 트리의 생성

  - Trivial 알고리즘
    - 가장 긴 접미어 부터 작은 접미어 순으로 삽입
    - 이전에 삽입된 접미어와 삽일할 접미어가 공통 접두어를 가지고 있지 않다면 루트에 간선을 하나 추가하여 라벨을 부여하고 노드를 하나 추가하한다.
    - 이전에  삽입된 접미어와 삽입할 접미어가 공통 접두어를 가지고 있다면, 내부 노드를 하나 생성하여 생성된 노드까지의 간선에 공통 접두어 라벨을 부여하고, 나머지 문자열을 각각 두개의 간선에 대응 시킨다.
    - 최종적으로 각 단말노드에 접미어의 시작 위치를 삽입한다.

- 접미어 트리의 생성에 필요한 시간

  - i번 문자로 시작하는 접미어를 추가학 ㅣ위한 시간 : `O(n-i-1)` , (1 ≤ i ≤ n)
  - 전체 생성 시간 : ∑O(i) = O(n²) 

- 접미어 트리는 트라이의 압축된 형태이나 메모리 공간이 여전히 많이 필요하다.

#### 2.2.2. 구현

### 2.2. 접미어 배열

#### 2.2.1. 