# 14. ìƒí˜¸ë°°íƒ€ ì§‘í•©

>ì„œë¡œì˜ êµì§‘í•©ì´ ì—†ëŠ” ìƒí˜¸ë°°íƒ€ ì§‘í•©ì„ ë‹¤ë£¨ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ í•™ìŠµ

[ğŸ Home](https://github.com/batboy118/Study_Note)

[â—€Previous page ](./)

---

<!-- TOC -->

- [1. ìƒí˜¸ë°°íƒ€ ì§‘í•©](#1-ìƒí˜¸ë°°íƒ€-ì§‘í•©)
	- [1.1. ì—°ì‚°](#11-ì—°ì‚°)
	- [1.2. í‘œí˜„](#12-í‘œí˜„)
		- [1.2.1. ì—°ê²°ë¦¬ìŠ¤íŠ¸ í‘œí˜„](#121-ì—°ê²°ë¦¬ìŠ¤íŠ¸-í‘œí˜„)
		- [1.2.2. íŠ¸ë¦¬ í‘œí˜„](#122-íŠ¸ë¦¬-í‘œí˜„)

<!-- /TOC -->

## 1. ìƒí˜¸ë°°íƒ€ ì§‘í•©

- ì„œë¡œ ì¤‘ë³µ í¬í•¨ëœ ì›ì†Œê°€ ì—†ëŠ” ì§‘í•©, êµì§‘í•©ì´ ì—†ëŠ” ì§‘í•©

- ì§‘í•©ì„ êµ¬ë¶„í•˜ëŠ” íŠ¹ì • ì›ì†Œ (ëŒ€í‘œì) : Representative


### 1.1. ì—°ì‚°

- maek-set : ì›ì†Œ xë§Œìœ¼ë¡œ êµ¬ì„±ëœ ì§‘í•©ì„ ìƒì„±í•˜ëŠ” ì—°ì‚°
- find-set : ì„ì˜ì˜ ì›ì†Œ xê°€ ì†í•œ ì§‘í•©ì„ ì•Œì•„ë‚´ê¸° ìœ„í•´ ì‚¬ìš©, ì§‘í•©ì˜ ëŒ€í‘œìë¥¼ ì•Œê¸° ìœ„í•œ ì—°ì‚°
- union : ì›ì†Œ xê°€ ì†í•œ ì§‘í•©ê³¼ yê°€ ì†í•œ ì§‘í•©ì´ í•˜ë‚˜ì˜ ì§‘í•©ìœ¼ë¡œ í•©ì³ì§€ëŠ” ì—°ì‚°

> êµì§‘í•©ì€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ êµì§‘í•©ì— ëŒ€í•œ ì—°ì‚°ì€ ì—†ìŒ

- ì˜ˆì‹œ

  - make-setì„ í•˜ë©´ ê° ì›ì†Œë¡œ êµ¬ì„±ëœ í•˜ë‚˜ì˜ setì´ ìƒì„±ë˜ê³ , ì´ë•Œì˜ ì›ì†Œê°€ ê° setì˜ ëŒ€í‘œìê°€ ë¨

  ![image](https://user-images.githubusercontent.com/53181778/78092490-76f5f600-73bf-11ea-8e93-52ddc2f3b1ce.png)

  - union(ëŒ€í‘œì1, ëŒ€í‘œì2)ë¥¼ í•˜ë©´ ë‘ ê°œì˜ setì´ í•©ì³ì§„ë‹¤. union(x, y)ë¥¼ í•˜ë©´, xì™€ yê°€ í•©ì³ì§‘ ì§‘í•©ì´ ìƒì„±ëœë‹¤. í•©ì³ì§„ ìƒˆë¡œìš´ ì§‘í•©ì˜ ëŒ€í‘œìë¡œëŠ” ì„ì˜ì˜ ì›ì†Œë¥¼ ì„ íƒí•´ë„ ëœë‹¤.
  - find-set(y)ë¥¼ í•˜ë©´ yê°€ ì†í•œ ì§‘í•©ì˜ ëŒ€í‘œìë¥¼ ë°˜í™˜í•˜ëŠ”ë°, xê°€ ëŒ€í‘œìë¼ë©´ xë¥¼ ë°˜í™˜í•œë‹¤.

### 1.2. í‘œí˜„

#### 1.2.1. ì—°ê²°ë¦¬ìŠ¤íŠ¸ í‘œí˜„

1. ê°™ì€ ì§‘í•©ì˜ ì›ì†Œë“¤ì€ í•˜ë‚˜ì˜ ì—°ê²°ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬í•¨

2. ì—°ê²°ë¦¬ìŠ¤íŠ¸ì˜ ì²« ë²ˆì¨° ì›ì†Œë¥¼ ì§‘í•©ì˜ ëŒ€í‘œ ì›ì†Œë¡œ ì‚¼ìŒ

3. ê° ì›ì†ŒëŠ” ì§‘í•©ì˜ ëŒ€í‘œì›ì†Œë¥¼ ê°€ë¦¬í‚¤ëŠ” ë§í¬ë¥¼ ê°€ì§

   ![image](https://user-images.githubusercontent.com/53181778/78092788-35197f80-73c0-11ea-8ea5-d16290f41fec.png)

- ë‘ê°œì˜ setì„ í•©ì¹˜ëŠ” ë²•

  1. ë‘ ì§‘í•©ì˜ ëŒ€í‘œìë¥¼ find-set ì—°ì‚°ìë¥¼ ì´ìš©í•´ ì°¾ëŠ”ë‹¤.

  2. ë‘ ì§‘í•©ì¤‘ í¬ê¸°ê°€ ì‘ì€ ì§‘í•©ì„ ë’¤ì— ë¶™ì¸ë‹¤.
     - ì˜ˆë¥¼ ë“¤ì–´ {a,d,e}ì™€ {b,f}ë¥¼ í•©ì¹˜ë©´, a-d-e-b-fìˆœìœ¼ë¡œ ë˜ê²Œ í•©ì¹˜ê³ , ëŒ€í‘œìëŠ” aë¡œ ì„¤ì •í•œë‹¤.

#### 1.2.2. íŠ¸ë¦¬ í‘œí˜„

- ì—°ê²°ë¦¬ìŠ¤íŠ¸ë³´ë‹¤ íš¨ìœ¨ì ì„

- í•˜ë‚˜ì˜ ì§‘í•©ì„ í•˜ë‚˜ì˜ íŠ¸ë¦¬ë¡œ í‘œí˜„

- ìì‹ ë…¸ë“œê°€ ë¶€ëª¨ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë©° ë£¨íŠ¸ ë…¸ë“œê°€ ëŒ€í‘œìê°€ ë¨

  ![image](https://user-images.githubusercontent.com/53181778/78093005-c557c480-73c0-11ea-9992-4cce72481e15.png)

- ì˜ˆ

  - a ~ fë¥¼ ê°ê° make-setìœ¼ë¡œ ì§‘í•©ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.

  - ë§Œì•½, cì™€ d, eì™€ fë¥¼ unionìœ¼ë¡œ í•©ì¹˜ê²Œ ë˜ë©´, dê°€ cë¥¼ ê°€ë¦¬í‚¤ê²Œ í•˜ë©´ë˜ê³ , ë§ˆì°¬ê°€ì§€ë¡œ, fê°€ eë¥¼ ê°€ë¦¬í‚¤ê²Œ í•˜ë©´ëœë‹¤.

    > íŠ¸ë¦¬ë¥¼ ì´ìš©í•˜ë©´ í•œ ì§‘í•©ì˜ ë£¨íŠ¸ê°€ ë‹¤ë¥¸ ì§‘í•©ì˜ ë£¨íŠ¸ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•˜ëŠ” í•œë²ˆì˜ ì—°ì‚°ë§Œ í•„ìš”í•˜ë¯€ë¡œ ì—°ê²°ë¦¬ìŠ¤í¬ì— ë¹„í•´ ê°„ë‹¨í•˜ë‹¤.

  - {c,d}ì™€ {e,f}ë¥¼ í•©ì¹œë‹¤ë©´, unionì„ ì´ìš©í•´ {e,f}ì˜ ëŒ€í‘œìì¸ eê°€ cë¥¼ ê°€ë¦¬í‚¤ê²Œ í•˜ë©´ ëœë‹¤.

    ![image](https://user-images.githubusercontent.com/53181778/78093257-5fb80800-73c1-11ea-8fea-4c81e8fd66b7.png)

  - fê°€ ì†í•œ ì…‹ì˜ ëŒ€í‘œìë¥¼ ì°¾ê¸°ìœ„í•´ find-set(f)ë¥¼ í•˜ë©´ fì˜ ë¶€ëª¨ ë…¸ë“œì¸ eë¥¼ ì°¾ê³ , eì˜ ë¶€ëª¨ ë…¸ë“œì¸ cë¥¼ ì°¾ëŠ”ë‹¤. cì˜ ë¶€ëª¨ë…¸ë“œê°€ ìê¸° ìì‹ ì´ë¯€ë¡œ cê°€ ëŒ€í‘œìê°€ ëœë‹¤.

- ì§‘í˜¸ë°°íƒ€ ì§‘í•©ì„ íŠ¸ë¦¬ë¡œ í‘œí˜„í•œ ë°°ì—´

  ![image](https://user-images.githubusercontent.com/53181778/78093421-b0c7fc00-73c1-11ea-9e45-eaa33b95d382.png)

  ê·¸ë˜í”„ ì•Œê³ ë¦¬ì¦˜ì—ì„œëŠ” ì •ì ì„ ì›ì†Œë¡œ í•˜ëŠ” ìƒí˜¸ë°°íƒ€ ì§‘í•©ì„ ì´ìš©í•¨

- íŠ¸ë¦¬ í‘œí˜„ì—ì„œ ê° ì—°ì‚°ì˜ ì•Œê³ ë¦¬ì¦˜

  ```c
  //ìƒí˜¸ ë°°íƒ€ ì§‘í•©ì„ íŠ¸ë¦¬ë¡œ í‘œí˜„í•˜ê¸° ìœ„í•´ ì›ì†Œì˜ ê°œìˆ˜ í¬ê¸°ì˜ ë°°ì—´ì´ í•„ìš” : p
  Make-set(x)
      p[x] = x

  Find-set(x)
      if(x == p[x]) return x  //ë¶€ëª¨ ë…¸ë“œì™€ í˜„ì¬ ë…¸ë“œê°€ ê°™ìœ¼ë©´ ë¦¬í„´
      else return (Find-set(p[x]))

  Union(x, y)
      p[Find-set(y)] = Find-set(x)  //yê°€ ì†í•œ ì§‘í•©ì˜ ëŒ€í‘œìê°€ xê°€ ì†í•œ ì§‘í•©ì˜ ëŒ€í‘œìë¥¼ ê°€ë¦¬í‚¤ê²Œ í•¨
  ```

  -  íŠ¸ë¦¬ì˜ ë¬¸ì œì 

    - ìµœì•…ì˜ ê²½ìš° íŠ¸ë¦¬ê°€ í•œì¤„ë¡œ ë˜ì–´ìˆì–´ find-setì„ í• ê²½ìš° ì—„ì²­ë‚œ ì¬ê·€í˜¸ì¶œì„ í•˜ê²Œ ë  ìˆ˜ ìˆë‹¤

      > í•´ê²°ë²• : ëª¨ë“  ì›ì†Œê°€ ë£¨íŠ¸ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ìˆ˜ì •í•¨

- ì—°ì‚° íš¨ìœ¨ì„ ë†’ì´ëŠ” ë°©ë²•

  1. Rankë¥¼ ì´ìš©í•œ union

  - ê° ë…¸ë“œëŠ” ìì‹ ì„ ë£¨íŠ¸ë¡œ í•˜ëŠ” subtreeì˜ ë†’ì´ë¥¼ Rankë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì €ì¥

  - ë‘ ì§‘í•©ì„ í•©ì¹  ë•Œ Rankê°€ ë‚®ì€ ì§‘í•©ì„ Rankê°€ ë†’ì€ ì§‘í•©ì— ë¶™ì„

  - ì¦‰, ë†’ì´ê°€ ë‚®ì€ íŠ¸ë¦¬ë¥¼ ë†’ì´ë¥¼ ë†’ì€ íŠ¸ë¦¬ì˜ ì„œë¸Œ íŠ¸ë¦¬ë¡œ ë¶™ì¸ë‹¤.

    ![image](https://user-images.githubusercontent.com/53181778/78094140-562f9f80-73c3-11ea-88d9-b9ba547a5a2e.png)

  2. Path Compression (ê²½ë¡œ ì••ì¶•)

  - Find-setì„ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •ì—ì„œ ë§Œë‚˜ëŠ” ëª¨ë“  ë…¸ë“œë“¤ì´ ì§ì ‘ rootë¥¼ ê°€ë¦¬í‚¤ë„ë¡ í¬ì¸í„°ë¥¼ ë°”ê¾¸ì–´ ì¤€ë‹¤. (ê²½ë¡œìƒì— ìˆëŠ” ë…¸ë“œë“¤ ì´ ëª¨ë‘ ë£¨íŠ¸ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ìˆ˜ì •)

    ![image](https://user-images.githubusercontent.com/53181778/78094193-80815d00-73c3-11ea-887e-ac76e14e1ede.png)

- ìˆ˜ì •ëœ ì—°ì‚°

  ```c
  //p : ë¶€ëª¨ ë…¸ë“œ ì €ì¥
  //rank : ë†’ì´ ì €ì¥
  Make-set(x) :
      p[x] = x
      rank[x] = 0

  Find-set(x) :
      if(x != p[x])
     		p[x] = Find-set(p[x])//ê²½ë¡œìƒì˜ ëª¨ë“  ë…¸ë“œê°€ ëŒ€í‘œìë¥¼ ê°€ë¦¬í‚¤ê²Œ í•¨
      return p[x]

  Link(x,y) :
    	if(rank[x] > rank[y])
            p[y] = x;
    	else
      {
          p[x] = y;
    		if(rank[x] == rank[y])
                rank[y]++;
       }

  Union(x, y) :
       Link(Find-Set(x), Find-set(y))
  ```
