# 02. Ruby ë°ì´í„° íƒ€ì…ê³¼ ë©”ì†Œë“œ

> ë£¨ë¹„ì˜ ë°ì´í„° íƒ€ì…ê³¼ ë©”ì†Œë“œì— ëŒ€í•´ í•™ìŠµ

[ğŸ Home](https://github.com/batboy118/Study_Note)

[â—€Previous page ](./README.md)

---

<!-- TOC -->

- [1. ë°°ì—´](#1-ë°°ì—´)
- [2. í•´ì‹œ](#2-í•´ì‹œ)
- [3. ë°°ì—´ì—ì„œì˜ ë°˜ë³µì](#3-ë°°ì—´ì—ì„œì˜-ë°˜ë³µì)
- [4. í•´ì‹œì—ì„œì˜ ë°˜ë³µì](#4-í•´ì‹œì—ì„œì˜-ë°˜ë³µì)
- [5. ë©”ì†Œë“œ(method)](#5-ë©”ì†Œë“œmethod)
- [6. ì½”ë“œ ë¸”ë¡](#6-ì½”ë“œ-ë¸”ë¡)
- [7. ëª¨ë“ˆ](#7-ëª¨ë“ˆ)

<!-- /TOC -->

## 1. ë°°ì—´

- ìƒì„± : 2ê°€ì§€ ë°©ë²•ì´ ìˆìŒ
  - `ë³€ìˆ˜ëª… = [ë°ì´í„°]`
    - `fruit = ['apple', 'orange', 'mango', 'plum', 'berry']`
  - `Array` ì‚¬ìš©
    - `ë³€ìˆ˜ëª… = Array.new`
    - `ë³€ìˆ˜ëª… = Array.new(20)`
    - `ë³€ìˆ˜ëª… = Array.new(5, 'ruby')`
      - [ruby, ruby, ruby, ruby, ruby]
    - `ë³€ìˆ˜ëª… = Array(1..10)`
- ì¸ë±ìŠ¤ ì ‘ê·¼
  - 0ë²ˆ ë¶€í„° ì‹œì‘
  - `ë³€ìˆ˜ëª…[index]`

- ë°°ì—´ì˜ í¬ê¸°
  - `ë³€ìˆ˜ëª….size`
  - `ë³€ìˆ˜ëª….length`

- forë¬¸ í™œìš©

  ```ruby
  beverage = ['coke', 'juice', 'tea', 'coffee', 'water']
  for i in beverage do
  	puts i
  end
  ```

## 2. í•´ì‹œ

- ìƒì„±
  - `ë³€ìˆ˜ëª… = {"í‚¤" => ë°¸ë¥˜}`
    - `grades = {"Soohorang" => 9, "Bandabi"=> 7}`
  - `Hash` ì‚¬ìš©
    - `ë³€ìˆ˜ëª… = Hash.new`
- keyê°’ì„ ì´ìš©í•© value ì ‘ê·¼
  - `ë³€ìˆ˜ëª…["key"]`

## 3. ë°°ì—´ì—ì„œì˜ ë°˜ë³µì

- ë°˜ë³µì

  - `iterator`ë€ ë°°ì—´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œì˜ ì¼ì¢…
  - ë£¨ë¹„ì—ì„œëŠ” ë°˜ë³µë¬¸ë³´ë‹¤ëŠ” ë°˜ë³µìë¥¼ ë” ë§ì´ ì‚¬ìš©í•¨

- `each` ë°°ì—´ì— ë‚´ì¥ë˜ì–´ ìˆëŠ” ë°˜ë³µìë¥¼ ì‚¬ìš©í•˜ë©´ íŒŒì´í”„(`||`) ì‚¬ì´ì— ì„ ì–¸í•œ ë³€ìˆ˜ì— ë°°ì—´ì˜ ê°’ì„ í•˜ë‚˜ì”© ë‹´ì•„ì™€ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.

  - ì•„ë˜ ë‘ ì½”ë“œëŠ” ë™ì¼í•œ ê¸°ëŠ¥ì„ í•œë‹¤.

    - `arr.each {|a| puts a}`

    ```ruby
    arr = [1, 2, 3, 4, 5]
    arr.each {|a| puts a}
    ```

    - `arr.each do |a|  ~ end`

    ```ruby
    arr = [1, 2, 3, 4, 5]
    arr.each do |a|
    	puts a
    end
    ```

- `collect`

  - collect ë˜í•œ ë°°ì—´ì— ë‚´ì¥ë˜ì–´ ìˆëŠ” ë°˜ë³µì ì…ë‹ˆë‹¤. ë°°ì—´ì— collectë¼ëŠ” ë°˜ë³µìë¥¼ ì‚¬ìš©í•˜ë©´ íŒŒì´í”„(`||`) ì‚¬ì´ì— ì„ ì–¸í•œ ë³€ìˆ˜ì— ë°°ì—´ì˜ ê°’ ê°ê°ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„¤í•  ìˆ˜ ìˆë‹¤.

    - `a.collect{|x| x*10}`

    ```ruby
    a = [1, 2, 3, 4, 5]
    b = a.collect{|x| x*10}
    puts b
    ```

- `each`ëŠ” `map` ë° `collect`ê³¼ëŠ” ë‹¤ë¥´ì§€ë§Œ `map` ë° `collect`ëŠ” ë™ì¼í•˜ë‹¤. `map`ì€ `collect`ì˜ ë³„ì¹­ì´ì§€ë§Œ ê°„ë‹¨í•˜ì—¬ ë” ìì£¼ì‚¬ìš©ëœë‹¤.

- `map` ë° `collect`ëŠ” ìˆ˜ì‹ ìì˜ ê° ìš”ì†Œì— ì ìš©ëœ ë¸”ë¡ì˜ ê²°ê³¼ë¥¼ í¬í•¨í•˜ëŠ” ìƒˆë¡œìš´ `Array`ì„ ìƒì„±í•˜ê³ , `each`ëŠ” (`Enumerable`) ê° ìš”ì†Œì— ëŒ€í•´ íŠ¹ì • ì‘ì—…ì„ ë°˜ë³µ ìˆ˜í–‰í•œë‹¤.

## 4. í•´ì‹œì—ì„œì˜ ë°˜ë³µì

í•´ì‹œë„ ë°°ì—´ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë°˜ë³µìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Rubyì—ì„œëŠ” ë°°ì—´ê³¼ í•´ì‹œë¥¼ `collections`ë¼ëŠ” ìš©ì–´ë¡œ ë¶€ë¥¸ë‹¤. ë‹¤ìŒì€ í•´ì‹œì— eachë¼ëŠ” ë°˜ë³µìë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œì´ë‹¤.

```ruby
grades = {"Soohorang" => 9, "Bandabi"=> 7}
grades.each{|k, v| puts "Key: #{k}, Value: #{v}"}
```

- kì—ëŠ” keyê°€ vì—ëŠ” valueê°€ ë‹´ê¸°ë©´ì„œ í•˜ë‚˜ì”© ìˆœíšŒí•œë‹¤.

## 5. ë©”ì†Œë“œ(method)

- ê¸°ë³¸ í‹€

  ```ruby
  def ë©”ì†Œë“œëª…(ë§¤ê°œë³€ìˆ˜)  # ë§¤ê°œë³€ìˆ˜ ê´„í˜¸ ìƒëµ ê°€ëŠ¥
      ì½”ë“œ
      return ê°’  #ì„ íƒ
  end
  ```

## 6. ì½”ë“œ ë¸”ë¡

ë£¨ë¹„ì—ì„œëŠ” ë©”ì†Œë“œì™€ ë¹„ìŠ·í•˜ê²Œ ë¸”ë¡ì´ë¼ëŠ” ê°œë…ì´ ìˆë‹¤. ë¸”ë¡ì€ ì½”ë“œì˜ ë©ì–´ë¦¬ë¡œ `{}`ë¡œ ë¬¶ì—¬ì‡ë‹¤.

ì•„ë˜ëŠ” `times`ì™€ `upto` ë©”ì†Œë“œì™€ ì½”ë“œë¸”ë¡ì„ ê°™ì´ ì‚¬ìš©í•œ ì˜ˆì‹œì´ë‹¤.

```ruby
5.times() {|i| puts i}
3.upto(5) {|i| puts i}
```

> ```
> #ì¶œë ¥ ê²°ê³¼
> 0	#5.times() {|i| puts i}ì˜ ì‹¤í–‰ ê²°ê³¼
> 1
> 2
> 3
> 4
> 3	#3.upto(5) {|i| puts i}ì˜ ì‹¤í–‰ ê²°ê³¼
> 4
> 5
> ```

- `ìˆ«ì.times()`ëŠ” ìˆ«ì ë§Œí¼ ê°™ì€ ë™ì‘ì„ ë°˜ë³µí•˜ëŠ” ë©”ì†Œë“œì´ë©° ì´ë•Œ iëŠ” 0ë¶€í„° 4ê¹Œì§€ ì¦ê°€í•œë‹¤.
- `ìˆ«ì1.upto(ìˆ«ì2)`ëŠ” ìˆ«ì1ë¶€í„° ìˆ«ì2ê¹Œì§€ ì¦ê°€í•˜ë©´ì„œ ë°˜ë³µí•˜ê²Œ ëœë‹¤.

í”„ë¡œê·¸ë˜ë¨¸ê°€ ì„ì˜ë¡œ ë§Œë“  ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸”ë¡ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. ë¸”ë¡ì€ í•­ìƒ ë¸”ë¡ì˜ ì´ë¦„ê³¼ ê°™ì€ ì´ë¦„ì„ ê°€ì§„ ë©”ì†Œë“œì— ì˜í•´ì„œ í˜¸ì¶œì´ ëœë‹¤. ì˜ˆë¥¼ë“¤ì–´ carë¼ëŠ” ì´ë¦„ì˜ ë¸”ë¡ì´ ìˆì„ ë•Œ car()ë¼ëŠ” ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ ë¸”ë¡ì„ í˜¸ì¶œí•œë‹¤.

ë˜í•œ, ë¸”ë¡ì€ `{}` ëŒ€ì‹  `do`ì™€ `end`ë¡œ í‘œì‹œí•  ìˆ˜ ìˆë‹¤. ë©”ì†Œë“œ ë‚´ì—ì„œ ë¸”ë¡ì„ í˜¸ì¶œí•  ë•Œ `yield`ë¼ëŠ” í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

```ruby
# ë©”ì†Œë“œ
def my_method
	puts 'start'
	yield
	puts 'end'
end
# ë¸”ë¡
my_method do
	puts "yield"
end
```

- ë¨¼ì € my_method()ë¼ëŠ” ë©”ì†Œë“œì™€ my_methodë¼ëŠ” ë¸”ë¡ì´ ì •ì˜ê°€ ë˜ì–´ìˆë‹¤.
- my_method()ì—ì„œ ê°€ì¥ë¨¼ì € startë¼ëŠ” ì¶œë ¥ì„ í•˜ê³ , yieldì—ì„œ ë¸”ë¡ì„ í˜¸ì¶œí•˜ê²Œ ëœë‹¤. yieldì˜ ì•ˆì—ìˆëŠ” yieldê°€ ì¶œë ¥ë˜ë‹¤. ê·¸ í›„ ë©”ì†Œë“œì˜ endê°€ ì‹¤í–‰ëœë‹¤.

 ë˜í•œ, yieldë¥¼ ì´ìš©í•˜ì—¬ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì„ìˆ˜ë„ ìˆë‹¤.

```ruby
# ë©”ì†Œë“œ
def my_method
	yield("goorm", 6)
end
# ë¸”ë¡
my_method do |name, age|
	puts "#{name} is #{age} years old"
end
```

- ë¸”ë¡ì—ì„œ ì…ë ¥ê°’ì„ ì „ë‹¬ë°›ê¸° ìœ„í•´ì„œëŠ” do `||`ë¥¼ ì‚¬ìš©

yieldë¥¼ ì‚¬ìš©í•˜ì—¬ ë¦¬í„´ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆë‹¤.

```ruby
# ë©”ì†Œë“œ
def my_method
	value = yield
	puts "value from block : #{value}"
end
# ë¸”ë¡
my_method do
	10
end
```

- ë¸”ë¡ì€ ê°€ì¥ ë§ˆì§€ë§‰ì— ê³„ì‚°ëœ ê°’ì„ ë¦¬í„´í•œë‹¤.

## 7. ëª¨ë“ˆ

ëª¨ë“ˆì€ ë©”ì†Œë“œë‚˜ í´ë˜ìŠ¤, ìƒìˆ˜ë“¤ì„ ë¬¶ëŠ” ë°©ë²•ìœ¼ë¡œ íŠ¹ì •í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.

ë£¨ë¹„ëŠ” `Math`ë¼ëŠ” ë‚´ì¥ ëª¨ë“ˆì„ ê°€ì§€ê³  ìˆë‹¤. ë‚´ì¥ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ ì†ì‰½ê²Œ ì—¬ëŸ¬ ê¸°ëŠ¥ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ëª¨ë“ˆì„ ì§ì ‘ ë§Œë“¤ì–´ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. ëª¨ë“ˆì€ ê°™ì€ íŒŒì¼ì—ì„œ ìƒì„±í• ìˆ˜ë„ ìˆê³ , ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ìƒì„±í•  ìˆ˜ë„ìˆë‹¤.

ì•„ë˜ëŠ” cafe.rbë¼ëŠ” íŒŒì¼ì— ìƒì„±í•œ cafeë¼ëŠ” ëª¨ë“ˆì´ë‹¤.

```ruby
#data/cafe.rb
module Cafe
	module_function()
	def show_menu(beverage)
		puts "Menu"
		beverage.each {|name, price| puts "#{name}\t#{price}"}
	end
	def show_price(beverage, select)
		beverage.each do |name, price|
			if select == name
				return "#{price}ì› ì…ë‹ˆë‹¤"
			end
		end
		return "ê·¸ëŸ° ìŒë£ŒëŠ” íŒë§¤í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤"
	end
end
```

- ëª¨ë“ˆì€ moduleë¡œ ì‹œì‘í•˜ê³  endë¡œ ëë‚œë‹¤.

ë‹¤ìŒì€ main.rbì—ì„œ cafe.rb ëª¨ë“ˆì„ ì‚¬ìš©í•œ ì˜ˆì œì´ë‹¤.

```ruby
#main.rb
require './data/cafe'

beverage = {'coke' => 3000, 'juice' => 4000, 'tea' => 6000, 'coffee' => 5000}

Cafe.show_menu(beverage)
select = gets.chomp()
puts Cafe.show_price(beverage, select)
```

- `require './data/cafe'` ìƒì„±í•œ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ cafe.rb íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¨ë‹¤.

- `Cafe.ë©”ì†Œë“œ` í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
