# 99. Vanilla JS

>

[ğŸ Home](https://github.com/batboy118/Study_Note)

[â—€Previous page ](./README.md)

---

<!-- TOC -->

- [1. DOM](#1-dom)
- [2. Evnets](#2-evnets)
- [3. defer & async / 'use strict'](#3-defer--async--use-strict)
	- [3.1. use strict](#31-use-strict)
	- [3.2 defer & async](#32-defer--async)

<!-- /TOC -->

## 1. DOM

DOM : Document Object Model

> ë¬¸ì„œ ê°ì²´ ëª¨ë¸(DOM, Document Object Model)ì€ XMLì´ë‚˜ HTML ë¬¸ì„œì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì¼ì¢…ì˜ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤. ì´ ê°ì²´ ëª¨ë¸ì€ ë¬¸ì„œ ë‚´ì˜ ëª¨ë“  ìš”ì†Œë¥¼ ì •ì˜í•˜ê³ , ê°ê°ì˜ ìš”ì†Œì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ì²«ì§¸ë¡œ ë·° í¬íŠ¸ì— ë¬´ì—‡ì„ ë Œë”ë§ í• ì§€ ê²°ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ë©°, ë‘˜ì§¸ë¡œëŠ” í˜ì´ì§€ì˜ ì½˜í…ì¸  ë° êµ¬ì¡°, ê·¸ë¦¬ê³  ìŠ¤íƒ€ì¼ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œê·¸ë¨ì— ì˜í•´ ìˆ˜ì •ë˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. DOMì€ ì›ë³¸ HTML ë¬¸ì„œ í˜•íƒœì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ëª‡ ê°€ì§€ ì°¨ì´ì ì´ ìˆìŠµë‹ˆë‹¤.

HTML

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Someting</title>
    <link rel="stylesheet"
    href="index.css" />
  </head>
  <body>
    <h1 id="title">This works!</h1>
    <script src="index.js"></script>
  </body>
</html>
```

- `<script src="index.js"></script>`ëŠ” index.js íŒŒì¼ì„ importí•˜ëŠ” ê²ƒì´ë‹¤.
- `<script src="index.js"></script>`ì€ ë³´í†µ body ê°€ì¥ ì•„ë˜ì— ë„£ëŠ”ë‹¤.

- css importëŠ” headì—ì„œ í•œë‹¤.

CSS

```css
body{
  background-color: gray;
}

h1{
  color : white;
}
```

JS

```javascript
const title = document.getElementById("title");
title.innerHTML = "Hi! Form JS";
title.style.color = "red";
```

- documnet ê°ì²´ëŠ” ì „ì²´ HTML ë‚´ìš©ì„ ë‹´ê³ ìˆë‹¤. (console.log(document))

- `document.getElementById("id")` ëŠ” idì— í•´ë‹¹í•˜ëŠ” elementì˜ HTMLì„ ë¦¬í„´í•´ì¤€ë‹¤. (console.log(document.getElementById("id")))

- `console.dir(title)`ì„ í•´ì£¼ë©´ í•´ë‹¹ elementì™€ ê³¼ë ¨ëœ ëª¨ë“  ë‚´ìš©ì´ ì¶œë ¥ë¨
- `title.innerHTML = "Hi! Form JS"` ëŠ” titleì— ë‹´ê²¨ìˆëŠ” HTML íƒœê·¸ì•ˆì— ìˆëŠ” ë‚´ìš©ì„ ë°”ê¿”ì¤€ë‹¤.
- `title.style.color = "red";` ëŠ” í•´ë‹¹ elementì˜ css ì†ì„± ì¤‘ ìƒ‰ìƒì„ ë³€ê²½í•´ì¤€ë‹¤.

JS

```javascript
const title = document.querySelector("#title");
```

- elementë¥¼ ì„ íƒí•˜ëŠ” ë°©ë²• ì¤‘ ë‹¤ë¥¸ í•˜ë‚˜ëŠ” querySelectorë¥¼  ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. idì˜ ê²½ìš° ì•ì— #ì„ ë¶™ì´ë©´ ëœë‹¤.`document.querySelector("#id");`

## 2. Evnets

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³´í†µ ì´ë²¤íŠ¸ì— ë°˜ì‘í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ëœë‹¤.

ì´ë²¤íŠ¸ë€ ë§ˆìš°ìŠ¤ í´ë¦­, resize, submit, input ë“±ì„ ì˜ë¯¸í•œë‹¤.

ì´ë²¤íŠ¸ëŠ” MDN ì„ í™•ì¸í•˜ë©´ ë§ì´ ë‚˜ì˜¨ë‹¤.

```javascript
const title = document.querySelector("#title");

function handleResize(event){
    console.log(event);
}

window.addEventListener("resize", handResize);

function handleClick(){
    title.style.color = "blue";
}

title.addEventListener("click", handleClick);
```

- `window.addEventListener("resize", handResize);`ë‚˜ `title.addEventListener("click", handleClick);`ì—ì„œ ì½œë°±í•¨ìˆ˜ë¥¼ ë„£ì„ ë•Œ `()`ë¥¼ ì“°ë©´ ì´ë²¤íŠ¸ì™€ ìƒê´€ì—†ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ì˜ ì´ë¦„ë§Œ ë„£ëŠ”ë‹¤.
- `window.addEventListner("resize", handResize);`ë¥¼ ì‚¬ìš©í•´ì„œ ë§Œì•½ windowì‚¬ì´ì¦ˆê°€ ë°”ë€Œë©´, handResize í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.
- `function handleResize(event)` ì—¬ê¸°ì„œ eventëŠ” event ê°ì²´ì´ë‹¤. ì–´ë– í•œ eventê°€ ë°œìƒí•  ë•Œ ê·¸ eventì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤.
- `title.addEventListener("click", handleClick);` ë¡œ ì¸í•´ íƒ€ì´í‹€ì„ í´ë¦­í•˜ë©´ íƒ€ì´í‹€ ì œëª©ì´ íŒŒë€ìƒ‰ìœ¼ë¡œ ë³€ê²½ëœë‹¤.

í´ë¦­ì‹œ ê³„ì†í•´ì„œ toggle íš¨ê³¼ ì£¼ê¸°

```javascript
const title = document.querySelector("#title");

const BASE_COLOR = 'rgb(52, 73, 94)'
const OTHER_COLOR = 'rgb(127, 140, 141)'

function handleClick(){
    const currentColor = title.style.color;
    if(currentColor === BASE_COLOR){
        title.style.color = OTHER_COLOR;
    } else {
        title.style.color = BASE_COLOR;
    }
}

function init(){
    title.style.color = BASE_COLOR;
    title.addEventListener("click", handleClick);
}

init();

```

- `const BASE_COLOR = 'rgb(52, 73, 94)'` ìƒ‰ì„ ë„£ì„ ë•Œ 'red' ë˜ëŠ” '#23445f'ì´ëŸ°ì‹ìœ¼ë¡œ ë„£ì–´ë„ ë˜ì§€ë§Œ, ê°’ì˜ ì €ì¥ì€ rgb(22,34,55) ì´ëŸ°ì‹ìœ¼ë¡œ ë˜ê¸° ë•Œë¬¸ì— toggle ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ `if(currentColor === BASE_COLOR)` ì´ ì¡°ê±´ì„ ë”°ì ¸ì•¼ í•˜ë¯€ë¡œ, `rgb()` í¬ë§·ìœ¼ë¡œ í•´ì£¼ì–´ì•¼ í•œë‹¤.

---

HTML

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Someting</title>
    <link rel="stylesheet"
    href="index.css" />
  </head>
  <body>
    <h1 id="title" class="btn">This works!</h1>
    <script src="index.js"></script>
  </body>
</html>
```

CSS

```css
body{
  background-color: gray;
}

h1{
  color : white;
  transition:color .8s ease-in-out
}

.btn{
    cursor : pointer;
}

.clicked{
    color : red;
}
```

JS

```javascript
const title = document.querySelector("#title");

const CLICKED_CLASS = 'clicked'

function handleClick(){
    const hasClass = title.classList.contains(CLICKED_CLASS);
    if(hasClass){
        title.classList.add(CLICKED_CLASS);
    } else {
        title.classList.remove(CLICKED_CLASS);
    }
}

function init(){
    title.addEventListener("click", handleClick);
}

init();
```

- í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ê³  ì‚­ì œí•˜ì—¬ css íš¨ê³¼ë¥¼ ë‹¤ë¥´ê²Œ ì¤€ë‹¤.
- `toggle`ê¸°ëŠ¥ì„ ì´ìš©í•´ classë¥¼ ê»ë‹¤ ì¼¤ìˆ˜ ìˆë‹¤.

```javascript
/*
const hasClass = title.class.contains(CLICKED_CLASS);
if(hasClass){
    title.classList.add(CLICKED_CLASS);
} else {
    title.classList.remove(CLICKED_CLASS);
}
*/

title.classList.toggle(CLICKED_CLASS);
```

## 3. defer & async / 'use strict'

### 3.1. use strict

ES5 ë¶€í„°ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì˜ ê°€ì¥ ì•ì— 'use strict'; ë¥¼ ì¨ì£¼ë©´ ì¡°ê¸ˆ ë¹„ìƒì‹ì ìœ¼ë¡œ ë³´ì´ëŠ” í–‰ë™ë“¤ì— ì—ëŸ¬ë¥¼ ë„ì–´ì£¼ê²Œë˜ê³ , ì‹¤í–‰ì†ë„ ë¹¨ë¼ì§€ëŠ” íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.

### 3.2 defer & async

sciprt íƒœê·¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” deferì™€ async ì†ì„±ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê² ë‹¤.

```html
<script async src="myAsyncScript.js" onload="myInit()"></script>
<script defer src="myDeferScript.js" onload="myInit()"></script>
```

ìœ„ì™€ ê°™ì´ ì„¤ì •ì´ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

ì¼ë‹¨ ë¸Œë¼ìš°ì €ëŠ” html ë¬¸ì„œë¥¼ ìœ„ì—ì„œ ì•„ë˜ë¡œ ìˆœì°¨ì ìœ¼ë¡œ íŒŒì‹±ì„ í•˜ê²Œëœë‹¤. ê·¸ëŸ¬ë‹¤ê°€ ì¼ë°˜ì ìœ¼ë¡œ scriptë¥¼ ë§Œë‚˜ë©´ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ê°€ ë˜ì–´, scriptë¥¼ ì„œë²„ì— ìš”ì²­í•˜ê³ , ë°›ì•„ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê²Œ ëœë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— scriptíƒœê·¸ê°€ ë°”ë””ê°€ ì•„ë‹Œ í—¤ë“œì— ìœ„ì¹˜í•œë‹¤ë©´ í™”ë©´ì—ëŠ” ì•„ë¬´ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•Šì€ ì±„ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ê²½ìš°ê°€ ë§ë‹¤.

ì‚¬ìš©ì ê²½í—˜ ê´€ì ì—ì„œ ì´ê²ƒì€ ì¢‹ì€ ë°©ë²•ì´ ì•„ë‹ ìˆ˜ ìˆë‹¤.

ê·¸ë˜ì„œ ë°”ë””ì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ìœ¼ë¡œ scriptíƒœê·¸ë¥¼ ë„£ê¸° ì‹œì‘í–ˆëŠ”ë°, ì´ ë˜í•œ, ë°”ë¡œ ë™ì ì¸ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ì–´ì•¼ í•  ê²½ìš° ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì½”ë“œë¥¼ ëŠ¦ê²Œ ë°›ê²Œë˜ì–´ ì¢‹ì§€ ëª»í•œ í™˜ê²½ì„ ì œê³µí•´ì£¼ê¸°ë„í•œë‹¤.

ìµœê·¼ì—ëŠ” asyncì™€ deferë¥¼ ì´ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.

ë‘ ì†ì„±ì€ ë™ì‘ë°©ì‹ì—ì„œ ì°¨ì´ê°€ ì¡´ì¬í•œë‹¤.

asyncë¶€í„° ì‚´í´ë³´ë©´, ë¨¼ì € HTMLíŒŒì„œê°€ ì•„ë˜ ì½”ë“œë¥¼ ë§Œë‚˜ê²Œ ë˜ë©´ ì„œë²„ì— jsíŒŒì¼ì„ ìš”ì²­í•˜ê²Œ ë˜ê³  ë‚˜ë¨¸ì§€ HTMLì„ ê³„ì†í•´ì„œ ì½ê²Œëœë‹¤. ê·¸ëŸ¬ë‹¤ê°€ jsíŒŒì¼ì„ ë°›ê²Œë˜ë©´ íŒŒì„œëŠ” ë§˜ì¶”ê²Œ ë˜ê³  jsì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ë‚˜ë¨¸ì§€ ë¶€ë¶„ì„ íŒŒì‹±í•˜ê²Œ ëœë‹¤.

```html
<script async src="myAsyncScript.js"></script>
```

deferëŠ” ì„œë²„ì— íŒŒì¼ì„ ìš”ì²­í•˜ëŠ” ë¶€ë¶„ì€ asyncì™€ëŠ” ê°™ì§€ë§Œ, jsíŒŒì¼ì˜ ì‹¤í–‰ ì‹œì ì´ ë‹¤ë¥´ë‹¤. htmlì´ ì™„ë²½í•˜ê²Œ ë¡œë”©ë˜ê³  ë‚˜ì„œ ìˆœì°¨ì ìœ¼ë¡œ jsíŒŒì¼ì„ ì‹¤í–‰ì‹œì¼œì¤€ë‹¤.

```html
<script defer src="myDeferScript.js"></script>
```

![img](https://appletree.or.kr/blog/images/javascript_execution.jpg)

ë§Œì•½ ì—¬ëŸ¬ê°œì˜ js íŒŒì¼ì„ ë°›ì•„ì˜¤ê²Œ ëœë‹¤ë©´, asyncëŠ” jsíŒŒì¼ì´ ê¸°ìˆ ëœ ìˆœì„œì— ë”°ë¼ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì˜ëª» ì‹¤í–‰ë  ê°€ëŠ¥ì„±ì´ ìˆë‹¤.

ë°˜ë©´ì— deferëŠ” ìˆœì„œë¥¼ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì— deferì˜ ì‚¬ìš©ì´ ê¶Œì¥ëœë‹¤.

