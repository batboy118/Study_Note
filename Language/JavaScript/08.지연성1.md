# 08. ì§€ì—°ì„± 1

> í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ê³¼ JavaScript ES6+
>
> - ì§€ì—°ì„± 1

[ğŸ Home](https://github.com/batboy118/Study_Note)

[â—€Previous page ](./README.md)

---

<!-- TOC -->

- [1. rangeá„‹á…ª á„‚á…³á„€á…³á†ºá„’á…¡á†« L.range](#1-rangeá„‹á…ª-á„‚á…³á„€á…³á†ºá„’á…¡á†«-lrange)
- [2. rangeá„‹á…ª á„‚á…³á„€á…³á†ºá„’á…¡á†« L.range í…ŒìŠ¤íŠ¸](#2-rangeá„‹á…ª-á„‚á…³á„€á…³á†ºá„’á…¡á†«-lrange-í…ŒìŠ¤íŠ¸)
- [3. take](#3-take)
- [4. L.map](#4-lmap)
- [5. L.filter](#5-lfilter)
- [6. range, map, filter, take, reduce á„Œá…®á†¼á„á…¥á†¸ á„‰á…¡á„‹á…­á†¼](#6-range-map-filter-take-reduce-á„Œá…®á†¼á„á…¥á†¸-á„‰á…¡á„‹á…­á†¼)
- [7. á„‹á…¥á†·á„€á…§á†¨á„’á…¡á†« á„€á…¨á„‰á…¡á†«á„€á…ª á„‚á…³á„€á…³á†ºá„’á…¡á†« á„€á…¨á„‰á…¡á†«á„‹á…´ á„’á…­á„‹á…²á†¯á„‰á…¥á†¼ á„‡á…µá„€á…­](#7-á„‹á…¥á†·á„€á…§á†¨á„’á…¡á†«-á„€á…¨á„‰á…¡á†«á„€á…ª-á„‚á…³á„€á…³á†ºá„’á…¡á†«-á„€á…¨á„‰á…¡á†«á„‹á…´-á„’á…­á„‹á…²á†¯á„‰á…¥á†¼-á„‡á…µá„€á…­)
- [8. map, filter ê³„ì—´ í•¨ìˆ˜ë“¤ì´ ê°€ì§€ëŠ” ê²°í•© ë²•ì¹™](#8-map-filter-ê³„ì—´-í•¨ìˆ˜ë“¤ì´-ê°€ì§€ëŠ”-ê²°í•©-ë²•ì¹™)

<!-- /TOC -->

## 1. rangeá„‹á…ª á„‚á…³á„€á…³á†ºá„’á…¡á†« L.range

rangeë¼ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•´ë³´ì. (0ë¶€í„° n-1ê¹Œì§€ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜)

```javascript
const add = (a, b) => a + b;

const range = l => {
    let i = -1;
    let res = [];
    while(++i < l) {
        res.push(i);
    }
    return res;
};

console.log(range(5));
// [0, 1, 2, 3, 4]

console.log(range(2));
// [0, 1]

var list = range(4);
log(reduce(add, list));
// 6
```

ìœ„ì˜ rangeë¥¼ Lì´ë¼ëŠ” ê°ì²´ì— ë„£ì–´ë³´ì.

```javascript
L = {};

L.range = l => {
    let i = -1;
    let res = [];
    while(++i < l) {
        res.push(i);
    }
    return res;
};

var list = L.range(4);
log(reduce(add, list));
// 6
```

ì•„ì§ì€ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤. L.rangeí•¨ìˆ˜ë¥¼ ì¡°ê¸ˆ ìˆ˜ì •í•´ë³´ì. ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´í„°ë ˆì´í„°ë¥¼ ë§Œë“¤ì—ˆë‹¤.

```js
L = {};

L.range = function *(l) => {
    let i = -1;
    while(++i < l) {
        yield i;
    }
};

var list = L.range(4);
log(reduce(add, list));
// 6
```

ì—­ì‹œ ê²°ê³¼ëŠ” ë™ì¼í•œ ê°’ì´ ë‚˜ì™”ë‹¤. í•˜ì§€ë§Œ, listì— ë‹´ê¸´ ê°’ì€ ë‹¤ë¥´ë‹¤. ì „ìëŠ” ë°°ì—´ì´ë¼ë©´ í›„ìëŠ” ì´í„°ë ˆì´í„°ê°€ ë“¤ì–´ìˆë‹¤.

ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ” ì´ìœ ëŠ” ìš°ë¦¬ê°€ ì •ì˜í–ˆë˜ reduceëŠ” ì´í„°ëŸ¬ë¸”ì„ ë°›ëŠ” í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì´ë‹¤.

rangeì™€ L.rangeëŠ” ì°¨ì´ê°€ ìˆë‹¤.

rangeëŠ” ì¦‰ì‹œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œ ë°°ì—´ì„ ë¦¬í„´í•˜ì§€ë§Œ, L.rangeëŠ” ì œë„ˆë ˆì´í„°ë¡œ ìƒì„±ëœ ì´í„°ë ˆì´í„°ë¥¼ ë¦¬í„´í•˜ê¸° ë•Œë¬¸ì—, í•¨ìˆ˜ê°€ ë°”ë¡œ ì‘ë™í•˜ì§€ ì•Šê³ , ê°’ì„ í•˜ë‚˜ì”© ì½ì–´ ì˜¬ ë•Œ ë§ˆë‹¤ í•¨ìˆ˜ê°€ ì‘ë™í•˜ê²Œ ëœë‹¤.

```js
const range = l => {
    let i = -1;
    let res = [];
    while(++i < l) {
        console.log(i, "range");
        res.push(i);
    }
    return res;
};
var list = range(4);
// 0 "range"
// 1 "range"
// 2 "range"
// 3 "range"

L.range = function *(l) => {
    let i = -1;
    while(++i < l) {
        console.log(i, "L.range");
        yield i;
    }
};

var list = L.range(4);
//ì•„ë¬´ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•ŠìŒ

list.next();
//0 "L.range"
list.next();
//1 "L.range"
list.next();
//2 "L.range"
list.next();
//3 "L.range"
```

- range(4)ê°€ ì‹¤í–‰ë˜ë©´ì„œ ì¦‰ì‹œ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì–´ ì¶œë ¥ì´ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

-  L.range(4)ë¥¼ í˜¸ì¶œí•´ë„ ì¦‰ì‹œ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•„ ì•„ë¬´ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤.
- next()í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í•˜ë‚˜ì”© ì¶œë ¥ì´ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ì¦‰, rangeëŠ” í˜¸ì¶œì´ ë˜ë©´ì„œ ëª¨ë“  ê°’ì´ í‰ê°€ê°€ ë˜ê³ , L.rangeëŠ” í˜¸ì¶œì´ ë˜ì–´ë„ ë°”ë¡œ í‰ê°€ê°€ ë˜ì§€ì•Šê³  ì‹¤ì œë¡œ ê°’ì„ ë¶ˆë ¤ì˜¬ ë•Œ í•˜ë‚˜ì”© í‰ê°€ëœë‹¤.

> Array, Set, Mapì€ ê·¸ ìì²´ë¡œ ì´í„°ë ˆì´í„°ëŠ” ì•„ë‹ˆê³  ì´í„°ëŸ¬ë¸”ì´ë‹¤. ë°°ì—´ì— ë‹´ê²¨ìˆëŠ” `Symbol.iterator`ì„ í˜¸ì¶œí•˜ë©´ ì´í„°ë ˆì´í„°ê°€ ë°˜í™˜ì´ ë˜ëŠ” ê²ƒì´ê³  `for of` ëŠ” ë‚´ë¶€ì—ì„œ Symbol.iteratorë¥¼ ë¨¼ì € í˜¸ì¶œí•´ì„œ ì´í„°ë ˆì´í„°ë¡œ ë³€ê²½í•´ì£¼ëŠ” ê³¼ì •ì„ ë¨¼ì € ê±°ì¹˜ëŠ” ê²ƒì´ë‹¤.
>
> `for (const a of iter) { ë‚´ë¶€ ì½”ë“œ }` ëŠ” ì•„ë˜ ì½”ë“œë¡œ ëŒ€ì²´ë  ìˆ˜ ìˆë‹¤.
>
>  ```js
> iter = iter[Symbol.iterator]();
> let cur;
> while(!(cur = iter.next()).done) {
>     const a = cur.value;
>     //ë‚´ë¶€ ì½”ë“œ
> }
>  ```

## 2. rangeá„‹á…ª á„‚á…³á„€á…³á†ºá„’á…¡á†« L.range í…ŒìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë³´ì.

```javascript
function test(name, time, f) {
	console.time(name);
    while(time--) f();
    console.timeEnd(name);
}

test('L.range', 10, () => reduce(add, L.range(1000000)));
test('range', 10, () => reduce(add, range(1000000)));
```

ì‹¤í–‰í•˜ ë³´ë©´, L.rangeê°€ rnageë³´ë‹¤ 2ë°°ê°€ëŸ‰ ë¹ ë¥¸ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

## 3. take

ì´í„°ëŸ¬ë¸”ì—ì„œ ì›í•˜ëŠ” ê°¯ìˆ˜ ë§Œí¼ ì›ì†Œë¥¼ ë°°ì—´ì— ë‹´ì•„ ì €ì¥í•˜ê³  ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜

```js
const take = (l, iter) => {
	let res = [];
	for (const a of iter){
		res.push(a);
		if(res.length == l) return res;
	}
	return res;
};

console.log(take(5, range(100)));
//[0, 1, 2, 3, 4]
console.log(take(5, L.range(100)));
//[0, 1, 2, 3, 4]
```

- ë§Œì•½ `console.log(take(5, range(ë¬´í•œìˆ˜ì—´)));` ì²˜ëŸ¼ ë¬´í•œìˆ˜ì—´ì„ ë„£ê²Œë˜ë©´ ë¬´í•œë°°ì—´ì„ ë¦¬í„´í•˜ê¸° ìœ„í•´ ê³„ì† ëŠì„ì—†ì´ ë¬´í•œ ë£¨í”„ë¥¼ ëŒê²ƒì´ê³  ë¸Œë¼ìš°ì €ëŠ” ì£½ì„ ê²ƒì´ë‹¤.
- í•˜ì§€ë§Œ, `console.log(take(5, L.range(ë¬´í•œìˆ˜ì—´)));`ì€ ë”± 5ê°œê¹Œì§€ë§Œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë˜ì§€ì•ŠëŠ”ë‹¤.
- ë‹¹ì—°íˆ ì†ë„ì—ì„œë„ ì°¨ì´ê°€ ë‚œë‹¤.

```js
console.time('');
go(
	range(1000),
    take(5),
    reduce(add),
    console.log
);
console.timeEnd('');

console.time('');
go(
	L.range(1000),
    take(5),
    reduce(add),
    console.log
);
console.timeEnd('');
```

- ì´ëŸ°ì‹ìœ¼ë¡œë„ ì½”ë“œë¥¼ ì§¤ ìˆ˜ ìˆë‹¤.

ì´ëŸ¬í•œ ê²ƒì„ `á„Œá…¦á„‚á…¥á„…á…¦á„‹á…µá„á…¥/á„‹á…µá„á…¥á„…á…¦á„‹á…µá„á…¥ á„‘á…³á„…á…©á„á…©á„á…©á†¯`á„…á…© á„€á…®á„’á…§á†«á„’á…¡á„‚á…³á†« `á„Œá…µá„‹á…§á†« á„‘á…§á†¼á„€á…¡`ë¼ê³  í•˜ë©° ê²Œìœ¼ë¥´ì§€ë§Œ ì˜ë¦¬í•œ í‰ê°€ë¼ê³  ë¶ˆë¦°ë‹¤.

ì œë„ˆë ˆì´í„°/ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì— ê¸°ë°˜í•œ ì§€ì—° í‰ê°€, `ì´í„°ëŸ¬ë¸” ì¤‘ì‹¬ í”„ë¡œê·¸ë˜ë°, ë¦¬ìŠ¤íŠ¸ ì¤‘ì‹¬ í”„ë¡œê·¸ë˜ë°, ì½œë ‰ì…˜ ì¤‘ì‹¬ í”„ë¡œê·¸ë˜ë°`ì´ë¼ê³ ë„ ë¶ˆë¦°ë‹¤.

map, filter, reduce, take ë“±ì˜ í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í•œë‹¤.

## 4. L.map

ì œë„ˆë ˆì´í„°/ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ mapì„ ì§€ì—°ì„±ì„ ê°€ì§„ L.mapìœ¼ë¡œ ë§Œë“¤ì–´ë³´ì.

```js
L.map = function *(f, iter){
    for (const a of iter) yield f(a);
};

var it = L.map(a => a + 10, [1, 2, 3]);
console.log(it.next().value);
//11
console.log(it.next().value);
//12
console.log(it.next().value);
//13
```

## 5. L.filter

ì œë„ˆë ˆì´í„°/ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ filterë¥¼ ì§€ì—°ì„±ì„ ê°€ì§„ L.filterìœ¼ë¡œ ë§Œë“¤ì–´ë³´ì.

```js
L.filter = function *(f, iter){
    for (const a of iter) if(f(a)) yield a;
};

var it = L.filter(a => a % 2, [1, 2, 3, 4]);
console.log(it.next().value);
//1
console.log(it.next().value);
//3
```

## 6. range, map, filter, take, reduce á„Œá…®á†¼á„á…¥á†¸ á„‰á…¡á„‹á…­á†¼

ì§€ê¸ˆê¹Œì§€ ë§Œë“¤ì—ˆë˜ í•¨ìˆ˜ë“¤ì„ ì´ìš©í•´ ì¦‰ì‹œí‰ê°€ë˜ëŠ” ê²ƒê³¼ ì§€ì—° í‰ê°€ë˜ëŠ” ë°©ì‹ì˜ ì°¨ì´ë¥¼ ì´í•´í•´ ë³´ë„ë¡í•˜ì.

ë¨¼ì €, rangeì™€ L.range í•¨ìˆ˜ë¥¼ ì œì™¸í•œ ëª¨ë“  í•¨ìˆ˜ë¥¼ ì»¤ë§í•´ì£¼ì—ˆë‹¤ê³  ê°€ì •í•˜ê³  ì§„í–‰í•˜ê² ë‹¤.

```js
//ì¦‰ì‹œ í‰ê°€
go(
    range(10),
    map(n => n + 10),
    filter(n => n % 2),
    take(2),
    console.log
);

//ì§€ì—° í‰ê°€
go(
    L.range(10),
    L.map(n => n + 10),
    L.filter(n => n % 2),
    take(2),
    console.log
);
```

- ì¦‰ì‹œí‰ê°€ ë˜ëŠ” ì½”ë“œëŠ” ì˜ˆìƒëŒ€ë¡œ, ìˆœì„œëŒ€ë¡œ í•¨ìˆ˜ í•˜ë‚˜í•˜ë‚˜ê°€ ì™„ë²½íˆ í‰ê°€ëœ ë’¤ ë‹¤ìŒ í•¨ìˆ˜ê°€ í‰ê°€ëœë‹¤.

- ê° í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë¸Œë ˆì´í¬ í¬ì¸íŠ¸ë¥¼ ê±¸ì—ˆì„ë•Œ, ì§€ì—°í‰ê°€ì˜ ê²½ìš° ì–´ë–¤ í•¨ìˆ˜ì—ì„œ ë¨¼ì € ë¸Œë ˆì´í¬ê°€ ê±¸ë¦¬ê²Œ ë ê¹Œ?

  ì •ë‹µì€ takeí•¨ìˆ˜ì´ë‹¤. ì¦‰, L. í•¨ìˆ˜ë“¤ì€ í˜¸ì¶œê³¼ ë™ì‹œì— í‰ê°€ê°€ ë°”ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì— takeê°€ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ëœ ê²ƒì´ë‹¤.

  takeì—ì„œ ì´í„°ë ˆì´í„°ë¥¼ ë°›ì•„ì„œ í•´ë‹¹ ì´í„°ë ˆì´í„°ì˜ nextí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´, L.filterì˜ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³ , ë˜ L.filterì˜ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì—ì„œ ì´í„°ë ˆì´í„°ì˜ nextë¥¼ í˜¸ì¶œí•˜ë©´ L.mapì˜ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³ , L.mapì˜ ì´í„°ë ˆì´í„°ì˜ nextê°€ í˜¸ì¶œë˜ë©´ì„œ, L.rangeì˜ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.

  ê·¸ í›„ L.rangeì—ì„œ yeildë¥¼ ë§Œë‚˜ë©´ í•´ë‹¹ ê°’ì„ ë¦¬í„´í•˜ê²Œ ë˜ê³ , ì´ëŸ° ì‘ì—…ì´ ì´ë²ˆì—ëŠ” ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤. ì´ê²ƒì´ í•œ ì‹¸ì´í´ì´ë‹¤.

  takeì˜ ì¸ìê°€ 2ì´ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ì‹¸ì´í´ì´ 2ë²ˆ ì‹¤í–‰ë˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì½˜ì†”ì— ì¶œë ¥ì´ ë˜ê³  ëë‚œë‹¤.

## 7. á„‹á…¥á†·á„€á…§á†¨á„’á…¡á†« á„€á…¨á„‰á…¡á†«á„€á…ª á„‚á…³á„€á…³á†ºá„’á…¡á†« á„€á…¨á„‰á…¡á†«á„‹á…´ á„’á…­á„‹á…²á†¯á„‰á…¥á†¼ á„‡á…µá„€á…­

ì—„ê²©í•œ ê³„ì‚°ì€ ì¦‰ì‹œí‰ê°€ ë˜ëŠ”, ëŠê¸‹í•œ ê³„ì‚°ì€ ì§€ì—°í‰ê°€ë˜ëŠ” ê³„ì‚°ì„ ì˜ë¯¸í•œë‹¤.

ëŠê¸‹í•œ ê³„ì‚°ì€ í•„ìš”í•œ ë§Œí¼ë§Œ í‰ê°€ë˜ê³ , ì—„ê²©í•œ ê³„ì‚°ì€ ì‹¤ì œ í•„ìš”ì—†ëŠ” ë¶€ë¶„ê¹Œì§€ í‰ê°€ ë˜ê¸° ë•Œë¬¸ì— ì „ì²´ì— ëŒ€í•œ í‰ê°€ê°€ í•„ìš”í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ëŠê¸‹í•œ ê³„ì‚°ì´ ë” íš¨ìœ¨ì´ ì¢‹ì„ ê²ƒì´ë‹¤.

## 8. map, filter ê³„ì—´ í•¨ìˆ˜ë“¤ì´ ê°€ì§€ëŠ” ê²°í•© ë²•ì¹™

mapê³¼ filter ê³„ì—´í•¨ìˆ˜ëŠ” ëŠê¸‹í•œ ê³„ì‚°ì„ í•´ë„ ë¬¸ì œê°€ ì—†ëŠ” í•¨ìˆ˜ì˜ ëŒ€í‘œì ì¸ ì˜ˆì´ë‹¤.

ì´ ë‘ í•¨ìˆ˜ëŠ” ì•„ë˜ì˜ ì¡°ê±´ë§Œ ë§Œì¡±í•œë‹¤ë©´ ê²°í•© ë²•ì¹™ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ê°€ ë¬´ì—‡ì´ë“ ì§€
- ì‚¬ìš©í•˜ëŠ” ë³´ì¡° í•¨ìˆ˜ê°€ ìˆœìˆ˜ í•¨ìˆ˜ë¼ë©´ ë¬´ì—‡ì´ë“ ì§€
- ì•„ë˜ì™€ ê°™ì´ ê²°í•©í•œë‹¤ë©´ ë‘˜ ë‹¤ ê²°ê³¼ê°€ ê°™ë‹¤.

> 1. [ [mapping, mapping], [filtering, filtering], [mapping, mapping] ]
>
> 2. [ [mapping, filtering, mapping], [mapping, filtering, mapping] ]
