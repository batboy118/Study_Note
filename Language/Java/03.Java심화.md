# 03. Java 심화

> 자바의 심화된 내용에 대해 학습합니다.

[🏠Home](https://github.com/batboy118/Study_Note)

[◀Previous page ](./README.md)

---

<!-- TOC -->

- 

<!-- /TOC -->

## 1.  클래스패스

```java
class Item{}

class ClasspathDemo {}
```

- 컴파일

```
javac ClasspathDemo.java
```

두 개의 클래스 파일이 생성

- ClasspathDemo.class
- Item.class

즉 클래스 하나는 하나의 클래스 파일

ClasspathDemo2.java을 만들고 내용을 아래와 같이 한다.

```java
class Item2{ 
    public void print(){
        System.out.println("Hello world");  
    }
}


class ClasspathDemo2 {
    public static void main(String[] args){
        Item2 i1 = new Item2();
        i1.print();
    }
}
```

컴파일

```
javac ClasspathDemo2.java
```

그리고 현재 디렉터리 하위에 lib 디렉토리를 만들고 여기에 Item2.class 파일을 이동한다. 현재 디렉터리에는 Item2.class 파일이 없어야 한다. 그리고 ClasspathDemo2를 실행한다.

```
java ClasspathDemo2
```

에러가 발생한다.

이것은 item.class 파일이 현재 디렉터리에 존재하지 않기 때문에 찾을 수 없다는 메시지다. 아래와 같이 실행해서 이 문제를 해결할 수 있다.

```
java -classpath ".;lib" ClasspathDemo2
```

리눅스, OSX와 같은 유닉스 계열의 시스템이라면 아래와 같이 콜론을 사용해야 한다.

```
java -classpath ".:lib" ClasspathDemo2
```

옵션 -classpath는 자바를 실행할 때 사용할 클래스들의 위치를 가상머신에게 알려주는 역할을 한다. -classpath의 값으로 사용된 ".;lib"를 살펴보자.

![img](https://s3.ap-northeast-2.amazonaws.com/opentutorials-user-file/module/516/1902.gif)

**.**

현재 디렉터리에서 클래스를 찾는다는 뜻이다.

**;**

경로와 경로를 구분해주는 구분자

**lib**

현재 디렉터리에 없다면 현재 디렉터리의 하위 디렉터리 중 lib에서 클래스를 찾는다는 의미다.

만약 .을 제외한다면 어떻게 될까? 아래와 같은 오류가 발생할 것이다.

```
F:\tmp\java>java -classpath "lib" ClasspathDemo``오류: 기본 클래스 Classpath을(를) 찾거나 로드할 수 없습니다.
```

**환경변수**

디렉터리 lib 아래에 있는 Item.class 파일을 찾았는데 정작 현재 디렉터리에 있는 ClasspathDemo.class 파일은 찾을 수 없기 때문이다.

이와 같이 클래스 패스라는 것은 자바를 실행할 때 클래스의 위치를 지정하는 역할을 하는 것이다. 클래스 패스는 자바 애플리케이션이 사용하고 있는 클래스가 여러 경로에 분산되어 있을 때 유용하게 사용할 수 있는 방법이다.

지금까지는 자바를 실행할 때 클래스 패스를 지정하는 방법을 알아봤다. 실행 할 때마다 클래스 패스를 지정하는 것이 귀찮다면 클래스 패스를 시스템의 환경변수로 지정하면 된다.

환경변수는 운영체제에 지정하는 변수로 자바 가상머신과 같은 애플리케이션들은 환경변수의 값을 참고해서 동작하게 된다. 자바는 클래스 패스로 환경변수 CLASSPATH를 사용하는데 이 값을 지정하면 실행할 때마다 -classpath 옵션을 사용하지 않아도 되기 때문에 편리하다. 하지만 운영체제를 변경하면 클래스 패스가 사라지기 때문에 이식성면에서 불리할 수 있다.

## 2. 패키지

