# 05. í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

>í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

[ğŸ Home](https://github.com/batboy118/Study_Note)

[â—€Previous page ](./README.md)

---

<!-- TOC -->

- 

<!-- /TOC -->

## 1. í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

React Hooksë¥¼ ì´ìš©í•˜ì—¬ í•¨ìˆ˜ë§Œìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```jsx
import React from 'react';

const MyName = ({name})=>{
    return <div>ì•ˆë…•! ë‚˜ëŠ” {name} ì´ì•¼.</div>
}

Myname.defaultProps = {
    name: 'velopert'
}
```

- React.Componentë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ì•Šì•„ë„ ëœë‹¤.
- `Props`ê°€ ì»´í¬ë„ŒíŠ¸ì˜ íŒŒë¼ë¯¸í„°ë¡œ ê°ì²´íƒ€ì…ìœ¼ë¡œ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤.
- defaultPropsë¥¼ ì‚¬ìš©í•´ ê¸°ë³¸ íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•´ ì¤„ ìˆ˜ ì‡ë‹¤.
- React ëª¨ë“ˆì„ ì½”ë“œì—ì„œ ì§ì ‘ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œ JSXë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ í•„ìš”í•˜ë‹¤.

> í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ëŠ” **State**ê°€ ì—†ë‹¤.
>
> í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ëŠ” **ë¼ì´í”„ì‚¬ì´í´**ì´ ì—†ë‹¤.

- ì¥ì 
  - ê°„ë‹¨í•˜ê²Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ìˆ˜ ìˆë‹¤.
  - ì´ˆê¸° ë§ˆìš´íŠ¸ ì†ë„ê°€ ë¯¸ì„¸í•˜ê²Œ ë” ë¹ ë¥´ë‹¤.
  - ë¶ˆí•„ìš”í•œ ìì›ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ ë©”ëª¨ë¦¬ ìì›ì„ ëœ ì‚¬ìš©í•œë‹¤.

## 2. useState

- ì´ˆê¸° ìƒíƒœê°’ì„ ì €ì¥í•  ìˆ˜ ìˆê³ , ìƒˆë¡œìš´ ìƒíƒœê°’ì„ í• ë‹¹í•  ìˆ˜ ìˆë„ë¡ í•´ì¤Œ
- `const [state, setstate] = useState(ê°’ ë˜ëŠ” ê°ì²´);`

```jsx
const App = () =>{

    const [todos, setTodos] = useState(['ë°¥í•˜ê¸°']);
    const [newTodo, setNewTodo] = useState();

    const changeInputData = e => {
        setNewTodo(e.target.value);
    }

    const addTodo = e => {
        e.preventDefault(); //ìƒˆë¡œê³ ì¹¨ ë°©ì§€(formíƒœê·¸ ê¸°ë³¸ ì´ë²¤íŠ¸ ë°©ì§€)
        setTodos([...todos, newTodo]);
    }

    return (
        <>
        <form>
            <input type"text" name="" onChange={changeInputData}/>
            <button onClick={addTodo}></button>
            <List todos={todos}/>
        </form>
        </>
    )
}

const List = ({todos}) => {

    const todoList =todos.map((todo,i) => { return <li key={i}>{todo}</i> } )
    return (
        <ul>
            {todoList}
        </ul>
    )
}

```

## 3. useEffect

- ë Œë”ë§ ëœ í›„ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜

- ```js
  useEffect( ()=>{
      console.log("ìƒˆë¡œìš´ ë‚´ìš©ì´ ë Œë”ë§ ë˜ì—ˆë„¤ìš”")   
  })
  ```

- ì²«ë²ˆì§¸ ì¸ìë¡œ í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì¤€ë‹¤, ë‘ë²ˆì§¸ ì¸ìë¡œ ê´€ì°°í•  stateë“¤ì˜ ë°°ì—´ì„ ë„˜ê²¨ì¤€ë‹¤. (ë‘ë²ˆì§¸ ì¸ìëŠ” ìƒëµê°€ëŠ¥í•˜ì§€ë§Œ, ëª¨ë“  stateì— ëŒ€í•´ì„œ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ì˜ ì‚¬ìš©í•´ì•¼í•¨)

- ë‘ë²ˆì§¸ ì¸ìê°€ ì‚¬ìš©ë˜ë©´ ê´€ì°°í•˜ëŠ” stateê°€ ë³€ê²½ë  ë•Œë§Œ í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.

- ë‘ë²ˆì§¸ ì¸ìë¥¼ ìƒëµí•  ê²½ìš° ëª¨ë“  stateì— ëŒ€í•´ì„œ 

```jsx
const App = () =>{

    const [todos, setTodos] = useState(['ë°¥í•˜ê¸°']);
    const [newTodo, setNewTodo] = useState();

    const changeInputData = e => {
        setNewTodo(e.target.value);
    }

    const addTodo = e => {
        e.preventDefault(); //ìƒˆë¡œê³ ì¹¨ ë°©ì§€(formíƒœê·¸ ê¸°ë³¸ ì´ë²¤íŠ¸ ë°©ì§€)
        setTodos([...todos, newTodo]);
    }
    
    useEffect( ()=>{
     console.log("ìƒˆë¡œìš´ ë‚´ìš©ì´ ë Œë”ë§ ë˜ì—ˆë„¤ìš”")   
    })

    return (
        <>
        <form>
            <input type"text" name="" onChange={changeInputData}/>
            <button onClick={addTodo}></button>
            <List todos={todos}/>
        </form>
        </>
    )
}

const List = ({todos}) => {

    const todoList =todos.map((todo,i) => { return <li key={i}>{todo}</i> } )
    return (
        <ul>
            {todoList}
        </ul>
    )
}

```

## 4. fetching data

- useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ë Œë”ë§ í›„ fetchë¥¼ ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
- ë‘ë²ˆì§¸ ì¸ìê°’ì— `[]`ë¹ˆ ë°°ì—´ì„ ë„£ì–´ì„œ ì´ˆê¸°ì— í•œë²ˆ ë Œë”ë§ ë ë–„ë§Œ ì‹¤í–‰ë˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
  - ë§Œì•½, ì•„ë¬´ê°’ë„ ë„£ì§€ ì•Šê±°ë‚˜ , [todos]ë¥¼ ë„£ê²Œ ë˜ë©´, `fectchInitailData`ë‚´ë¶€ì—ì„œ setTodosê°€ í˜¸ì¶œë˜ì–´ì„œ ê°’ì´ Todosì˜ ê°’ì´ ì—…ë°ì´íŠ¸ë˜ê³ , ê·¸ë ‡ê¸° ë–„ë¬¸ì— ë˜ uesEffectê°€ ì‹¤í–‰ì´ ë˜ì–´ ê³„ì† fectchInitailDataë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.

```jsx
const App = () =>{

    const [todos, setTodos] = useState(['ë°¥í•˜ê¸°']);
    const [newTodo, setNewTodo] = useState();
    const [loading, setLoading] = useState(false);

    const changeInputData = e => {
        setNewTodo(e.target.value);
    }

    const addTodo = e => {
        e.preventDefault(); //ìƒˆë¡œê³ ì¹¨ ë°©ì§€(formíƒœê·¸ ê¸°ë³¸ ì´ë²¤íŠ¸ ë°©ì§€)
        setTodos([...todos, newTodo]);
    }
    
    useEffect( ()=>{
     console.log("ìƒˆë¡œìš´ ë‚´ìš©ì´ ë Œë”ë§ ë˜ì—ˆë„¤ìš”")   
    })
	
    const fectchInitailData = async () => {
        setLoading(true)
        const response = await fetch('url')
        const initialData = await response.json()
        setTodos(initialData);
        setLoading(false)
    }
    
    useEffect( () => {
        fectchInitailData();
    }, [])
    
    return (
        <>
        <form>
            <input type"text" name="" onChange={changeInputData}/>
            <button onClick={addTodo}></button>
            <List todos={todos} loading={loading}/>
        </form>
        </>
    )
}

const List = ({todos, loading}) => {
	let todoList = <div>loading...</div>
    if(!loading) todoList =todos.map((todo,i) => { return <li key={i}>{todo}</i> } )
    return (
        <ul>
            {todoList}
        </ul>
    )
}

```

- data

  ```json
  {
      "todos" : ["í• ì¼1","í• ì¼2", "í• ì¼3"]
  }
  ```

- fetchì‹œ loading stateë¥¼ ë§Œë“¤ì–´ ë¡œë”© í™”ë©´ì„ ë Œë”ë§ í•˜ë„ë¡ ë§Œë“¤ì—ˆìŒ

## 5. custom hooks

- ì™¸ë¶€ë¡œ í•¨ìˆ˜ë¥¼ ë¹¼ì„œ ë¼ì´í”„ ì‚¬ì´í´ì„ ê°™ì´ íƒœìš¸ ìˆ˜ ìˆë‹¤.
  - `use`ë¡œ ì‹œì‘ë˜ëŠ” í•¨ìˆ˜ëª…ì„ ì‚¬ìš©í•´ì•¼í•¨

```jsx
const useFetch = (callback, url) =>{
    const [loading, setLoading] = useState(false);
    
    const fectchInitailData = async () => {
        setLoading(true)
        const response = await fetch(url)
        const initialData = await response.json()
        callback(initialData);
        setLoading(false)
    }
    
    //ì´ë¶€ë¶„ë„ ë¼ì´í”„ ì‚¬ì´í´ì´ ì ìš©ëœë‹¤.
    useEffect( () => {
        fectchInitailData();
    }, [])
    
    //ì´ë¶€ë¶„ë„ ë¼ì´í”„ ì‚¬ì´í´ì´ ì ìš©ëœë‹¤.
    useEffect( ()=>{
     console.log("ìƒˆë¡œìš´ ë‚´ìš©ì´ ë Œë”ë§ ë˜ì—ˆë„¤ìš”")   
    })
    
    return loading
}


const App = () =>{

    const [todos, setTodos] = useState(['ë°¥í•˜ê¸°']);
    const [newTodo, setNewTodo] = useState();
    
    const loading = useFectch(setTodos, 'url')
    
    const changeInputData = e => {
        setNewTodo(e.target.value);
    }

    const addTodo = e => {
        e.preventDefault(); //ìƒˆë¡œê³ ì¹¨ ë°©ì§€(formíƒœê·¸ ê¸°ë³¸ ì´ë²¤íŠ¸ ë°©ì§€)
        setTodos([...todos, newTodo]);
    }
	
    return (
        <>
        <form>
            <input type"text" name="" onChange={changeInputData}/>
            <button onClick={addTodo}></button>
            <List todos={todos} loading={loading}/>
        </form>
        </>
    )
}

const List = ({todos, loading}) => {
	let todoList = <div>loading...</div>
    if(!loading) todoList =todos.map((todo,i) => { return <li key={i}>{todo}</i> } )
    return (
        <ul>
            {todoList}
        </ul>
    )
}

```

## 6. ì»´í¬ë„ŒíŠ¸ ê°„ì˜ state ì „ë‹¬

```jsx
<form>
    <Header todos={todos}> </Header>
    <input type"text" name="" onChange={changeInputData}/>
    <button onClick={addTodo}></button>
    <List todos={todos} loading={loading}/>
</form>
```

- ìœ„ì™€ ê°™ì´ ì—¬ëŸ¬êµ°ë°ì„œ todosë¥¼ propsë¡œ ì „ë‹¬ë°›ëŠ” ê²½ìš°, í•œê³³ì—ì„œ todosë¥¼ ì¡°ì‘í•˜ê²Œ ë˜ë©´, ë‹¤ë¥¸ í•œê³³ì—ë„ ê·¸ ë³€ê²½ëœ ë‚´ìš©ì„ ì ìš©ì‹œì¼œì£¼ì–´ì•¼ í•œë‹¤.
- ì´ëŸ´ ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ ëœë‹¤.
- í•´ë‹¹ stateê°€ ì •ì˜ëœ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•´ë‹¹ stateì˜ ìœ ë‹ˆí¬í•œ ê°’ (ë³´í†µ id)ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì„œ í•´ë‹¹ stateë¥¼ ì—…ë°ì´íŠ¸ í•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³ , ê·¸ í•¨ìˆ˜ë¥¼ importí•´ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 

## 7. Context APIì™€ useContext

- `React.create.Context()` í•¨ìˆ˜ë¥¼ ì´ìš©í•´ìˆ˜ ìƒˆë¡œìš´ contextë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

```jsx
const TodoContext = React.create.Context()

const App = () =>{

    //ìƒëµ

    return (
        <TodoContext.Provider value={{todos}}>
            <List/>
        </TodoContext.Provider>
    )
}

const List = () => {
    return (
        <TodoContext.Consumer>
            <ul>
                { 
                    ({todos}) => (
                        todos.map((todo,i) => { return <li key={i}>{todo}</i> } )
                    )
                }
            </ul>
        </TodoContext.Consumer>
    )
}
```

- íŒŒë¼ë¯¸í„° ëŒ€ì‹  contextë¥¼ ì‚¬ìš©í•˜ë©´, `TodoContext.Provider`ë¡œ ì „ë‹¬í•œ ê°’( `todos`)ì„  `TodoContext.Consumer`ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.

- `useContext()`ë¥¼ ì´ìš©í•˜ì—¬ ì¡°ê¸ˆë” ì‰½ê²Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

  ```jsx
  const TodoContext = React.create.Context()
  
  const App = () =>{
  
      //ìƒëµ
  
      return (
          <TodoContext.Provider value={{todos}}>
              <form>
                  <List/>
              </form>
          </TodoContext.Provider>
      )
  }
  
  const List = () => {
      const {todos} = useContext(TodoContext)
      return (
          <ul>
              { 
                  todos.map((todo,i) => { return <li key={i}>{todo}</i> } )
              }
          </ul>
      )
  }
  ```

## 8. useRef

- refëŠ” í˜„ì¬ íƒœê·¸ì˜ ìƒíƒœë‚˜ ê°’ì„ ë°›ì•„ì˜¬ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- contextì™€ refë¥¼ ì´ìš©í•˜ì—¬ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•œ stateì˜ ë³€ê²½ì„ ìƒìœ„ ì»¨í…ìŠ¤íŠ¸ë¡œ ì‰½ê²Œ ì „ë‹¬ì´ ê°€ëŠ¥í•˜ë‹¤.
- contextë¡œ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì˜ ì—…ë°ì´íŠ¸ë¥¼ ë‹´ë‹¹í•˜ëŠ” í•¨ìˆ˜ë¥¼ í•˜ìœ„ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•˜ê³ , í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” refë¥¼ ìƒì„±í•˜ì—¬ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ  `ref.current.value`ê°’ì„ ì´ìš©í•´ í˜„ì¬ ê°’ì„ ë°›ì•„ì™€ì„œ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì˜ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ì— ê°’ì„ ì „ë‹¬í•´ì„œ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë‹¤.

## 9. useReducerì™€ ìƒíƒœê´€ë¦¬

